"use strict";(self["webpackChunksmi_frontend"]=self["webpackChunksmi_frontend"]||[]).push([[461],{925:(e,t,l)=>{l.d(t,{e7:()=>a,KS:()=>s,WU:()=>o,Fv:()=>n});const a=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],s=(e,t)=>{const l=new Date(e,t,0).getDate(),a=new Date(e,t-1,1),s=[];for(let o=6-a.getDay(),n=1;o<l;o+=7,n++)s.push({day:o+1,label:`Sábado ${o+1}`,week:n,total:0});return s},o=e=>{if(!e)return null;const t=new Date(e);return[t.getUTCDate(),t.getUTCMonth()+1,t.getUTCFullYear()].join("/")},n=e=>e?[e.split("/")[2],e.split("/")[1],e.split("/")[0]].join("-"):null},2461:(e,t,l)=>{l.r(t),l.d(t,{default:()=>_t});var a=l(3673),s=l(2323),o=l(1959),n=l(2993),i=l(925),r=function(e,t,l,a){function s(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,o){function n(e){try{r(a.next(e))}catch(t){o(t)}}function i(e){try{r(a["throw"](e))}catch(t){o(t)}}function r(e){e.done?l(e.value):s(e.value).then(n,i)}r((a=a.apply(e,t||[])).next())}))};const u={class:"container"},c={class:"treasury-title"},d=(0,a.Uk)(" Flujo de caja - "),v=(0,a._)("span",{class:"text-warning"},"Iglesia local",-1),_={class:"subtitle"},w={class:"row q-col-gutter-sm"},p={class:"col-xs-12 col-sm-4"},m={class:"col-xs-12 col-sm-4"},h={class:"col-xs-12 col-sm-4"},g={key:0,class:"row flow-items q-col-gutter-x-lg q-pt-md"},x={class:"flow-title col-12"},b={class:"row q-pb-xs"},U={class:"col-8"},f={class:"col-xs-4 col-sm-4"},k={class:"self-center full-width no-outline",tabindex:"0"},y={key:1,class:"row tithe-column"},z={class:"flow-title col-12"},N={class:"q-table-simple q-table__container q-table--horizontal-separator column no-wrap q-table--dense q-table--no-wrap col-12"},S={class:"q-table treasury-table-data"},T=(0,a._)("th",{class:"text-left"},[(0,a._)("strong",null,"Departamento")],-1),I={class:"text-right text-secondary"},E={class:"text-right text-positive"},D=(0,a.Uk)("Ingreso "),A={class:"text-right text-negative"},W=(0,a.Uk)("Diezmo Ingreso "),q={class:"text-right text-positive"},L=(0,a.Uk)("Total Ingreso "),G={class:"text-right text-negative"},M=(0,a.Uk)("Gasto "),F=(0,a._)("th",{class:"text-right"},[(0,a._)("strong",null,"Sub total")],-1),H=(0,a._)("th",{class:"text-right text-primary"},[(0,a._)("strong",null,"Total")],-1),$={class:"text-left"},R={class:"flow-head-table"},V={class:"text-right text-secondary"},j={class:"flow-row-table"},Y={class:"text-hidden"},C={class:"text-right text-positive"},O={class:"flow-row-table"},Z={class:"text-hidden"},Q=(0,a.Uk)("Ingreso "),P=(0,a.Uk)(" :"),B={class:"text-right text-negative"},K={class:"flow-row-table"},J={class:"text-hidden"},X=(0,a.Uk)("Diezmo Ingreso "),ee=(0,a.Uk)(":"),te={class:"text-right text-positive"},le={class:"flow-row-table"},ae={class:"text-hidden"},se=(0,a.Uk)("Total Ingreso "),oe=(0,a.Uk)(" :"),ne={class:"text-right text-negative"},ie={class:"flow-row-table"},re={class:"text-hidden"},ue=(0,a.Uk)("Gasto "),ce=(0,a.Uk)(":"),de={class:"text-right"},ve={class:"flow-row-table"},_e=(0,a._)("span",{class:"text-hidden"},"Sub total:",-1),we={class:"text-right text-primary"},pe={class:"flow-row-table"},me=(0,a._)("span",{class:"text-hidden"},"Total:",-1),he=(0,a.Uk)(),ge=(0,a._)("td",{class:"text-left"},[(0,a._)("span",{class:"flow-head-table"},[(0,a._)("strong",null,"TOTAL")])],-1),xe={class:"text-right text-secondary"},be={class:"flow-row-table"},Ue={class:"text-hidden"},fe=(0,a.Uk)(),ke={class:"text-right text-positive"},ye={class:"flow-row-table"},ze={class:"text-hidden"},Ne=(0,a.Uk)("Ingreso "),Se=(0,a.Uk)(" :"),Te=(0,a.Uk)(),Ie={class:"text-right text-negative"},Ee={class:"flow-row-table"},De={class:"text-hidden"},Ae=(0,a.Uk)("Diezmo Ingreso "),We=(0,a.Uk)(":"),qe=(0,a.Uk)(),Le={class:"text-right text-positive"},Ge={class:"flow-row-table"},Me={class:"text-hidden"},Fe=(0,a.Uk)("Total Ingreso "),He=(0,a.Uk)(" :"),$e=(0,a.Uk)(),Re={class:"text-right text-negative"},Ve={class:"flow-row-table"},je={class:"text-hidden"},Ye=(0,a.Uk)("Gasto "),Ce=(0,a.Uk)(":"),Oe=(0,a.Uk)(),Ze={class:"text-right"},Qe={class:"flow-row-table"},Pe=(0,a._)("span",{class:"text-hidden"},"Sub total:",-1),Be=(0,a.Uk)(),Ke={class:"text-right text-primary"},Je={class:"flow-row-table"},Xe=(0,a._)("span",{class:"text-hidden"},"Total:",-1),et=(0,a.Uk)(),tt={key:2,class:"q-pa-sm text-primary"},lt=(0,a.Uk)("No existe datos para el mes de "),at=(0,a.Uk)("."),st=(0,a.aZ)({setup(e){const t=new Date;let l=t.getFullYear(),st=t.getMonth()-1;st<0&&(st=11,l--);const ot=(0,o.iH)({value:l,label:l}),nt=(0,o.iH)({value:"MONTH",label:"MENSUAL"}),it=(0,o.iH)({value:st+1,label:i.e7[st]}),rt=i.e7.map(((e,t)=>({value:t+1,label:e}))),ut=[{value:2022,label:"2022"}],ct=[{value:"GENERAL",label:"GENERAL"},{value:"MONTH",label:"MENSUAL"},{value:"INITIAL",label:"INICIAL"}],dt=(0,o.iH)([]),vt=9,_t=()=>r(this,void 0,void 0,(function*(){if("GENERAL"===nt.value.value){const e=`expenses/report/${nt.value.value}?id_company=${vt}`,t=yield n.http.get(e);dt.value=t.rows}else if("MONTH"===nt.value.value){const e=`expenses/report/${nt.value.value}?id_company=${vt}&year=${ot.value.value}&month=${it.value.value}`,t=yield n.http.get(e);dt.value=t.rows}else{const e=`flows?id_company=${vt}&type=${nt.value.value}`,t=yield n.http.get(e);dt.value=t.rows}})),wt=(0,o.Fl)((()=>{const e={previous:0,entry:0,tithe:0,entryTotal:0,expense:0,subtotal:0,total:0};return dt.value.forEach((t=>{e.previous+=t.previous?Number(t.previous):0,e.entry+=t.entry?Number(t.entry):0,e.tithe+=t.tithe?Number(t.tithe):0,e.entryTotal+=t.entryTotal?Number(t.entryTotal):0,e.expense+=t.expense?Number(t.expense):0,e.subtotal+=t.subtotal?Number(t.subtotal):0,e.total+=t.total?Number(t.total):0})),e})),pt=(0,o.Fl)((()=>it.value.value-2<0?11:it.value.value-2));return(0,a.YP)(nt,(()=>r(this,void 0,void 0,(function*(){return yield _t()})))),(0,a.YP)(ot,(()=>r(this,void 0,void 0,(function*(){return yield _t()})))),(0,a.YP)(it,(()=>r(this,void 0,void 0,(function*(){return yield _t()})))),(0,a.wF)((()=>r(this,void 0,void 0,(function*(){yield _t("GENERAL")})))),(e,t)=>{const l=(0,a.up)("q-btn"),n=(0,a.up)("q-select"),r=(0,a.up)("q-field"),vt=(0,a.up)("q-icon");return(0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("h2",c,[(0,a.Wm)(l,{icon:"arrow_back",round:"",flat:"",onClick:t[0]||(t[0]=t=>e.$router.push("/treasury"))}),d,v,(0,a._)("span",_,"Total: "+(0,s.zw)((0,o.SU)(wt).total||0)+" Bs.",1)]),(0,a._)("div",w,[(0,a._)("div",p,[(0,a.Wm)(n,{filled:"",modelValue:nt.value,"onUpdate:modelValue":t[1]||(t[1]=e=>nt.value=e),options:ct,label:"Tipo"},null,8,["modelValue"])]),(0,a._)("div",m,[(0,a.Wm)(n,{filled:"",modelValue:ot.value,"onUpdate:modelValue":t[2]||(t[2]=e=>ot.value=e),options:ut,label:"Gestión",disable:"GENERAL"===nt.value.value||"INITIAL"===nt.value.value},null,8,["modelValue","disable"])]),(0,a._)("div",h,[(0,a.Wm)(n,{filled:"",modelValue:it.value,"onUpdate:modelValue":t[3]||(t[3]=e=>it.value=e),options:(0,o.SU)(rt),label:"Mes",disable:"GENERAL"===nt.value.value||"YEAR"===nt.value.value||"INITIAL"===nt.value.value},null,8,["modelValue","options","disable"])])]),!dt.value.length||"GENERAL"!==nt.value.value&&"INITIAL"!==nt.value.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("h3",x,"Flujo de caja "+(0,s.zw)("GENERAL"===nt.value.value?"General":"Inicial"),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(dt.value,(e=>{var t;return(0,a.wg)(),(0,a.iD)("div",{class:"col-xs-12 col-sm-6",key:e.id},[(0,a._)("div",b,[(0,a._)("div",U,(0,s.zw)(null===(t=e.department)||void 0===t?void 0:t.name),1),(0,a._)("div",f,[(0,a.Wm)(r,{standout:"",class:"text-right",dense:"",placeholder:"0",suffix:"Bs."},{control:(0,a.w5)((()=>[(0,a._)("div",k,(0,s.zw)(e.total),1)])),_:2},1024)])])])})),128))])),dt.value.length&&"MONTH"===nt.value.value?((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("h3",z,"Flujo de caja "+(0,s.zw)((0,o.SU)(i.e7)[it.value.value-1]),1),(0,a._)("div",N,[(0,a._)("table",S,[(0,a._)("thead",null,[(0,a._)("tr",null,[T,(0,a._)("th",I,[(0,a._)("strong",null,"Saldo "+(0,s.zw)((0,o.SU)(i.e7)[(0,o.SU)(pt)]),1)]),(0,a._)("th",E,[(0,a._)("strong",null,[D,(0,a.Wm)(vt,{name:"add_circle_outline"})])]),(0,a._)("th",A,[(0,a._)("strong",null,[W,(0,a.Wm)(vt,{name:"remove_circle_outline"})])]),(0,a._)("th",q,[(0,a._)("strong",null,[L,(0,a.Wm)(vt,{name:"add_circle_outline"})])]),(0,a._)("th",G,[(0,a._)("strong",null,[M,(0,a.Wm)(vt,{name:"remove_circle_outline"})])]),F,H])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(dt.value,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",$,[(0,a._)("span",R,(0,s.zw)(e.name),1)]),(0,a._)("td",V,[(0,a._)("div",j,[(0,a._)("span",Y,"Saldo "+(0,s.zw)((0,o.SU)(i.e7)[(0,o.SU)(st)-1])+":",1),(0,a.Uk)(" "+(0,s.zw)(e.previous),1)])]),(0,a._)("td",C,[(0,a._)("div",O,[(0,a._)("span",Z,[Q,(0,a.Wm)(vt,{name:"add_circle_outline"}),P]),(0,a.Uk)(" "+(0,s.zw)(e.entry),1)])]),(0,a._)("td",B,[(0,a._)("div",K,[(0,a._)("span",J,[X,(0,a.Wm)(vt,{name:"remove_circle_outline"}),ee]),(0,a.Uk)(" "+(0,s.zw)(e.tithe),1)])]),(0,a._)("td",te,[(0,a._)("div",le,[(0,a._)("span",ae,[se,(0,a.Wm)(vt,{name:"add_circle_outline"}),oe]),(0,a.Uk)(" "+(0,s.zw)(e.entryTotal),1)])]),(0,a._)("td",ne,[(0,a._)("div",ie,[(0,a._)("span",re,[ue,(0,a.Wm)(vt,{name:"remove_circle_outline"}),ce]),(0,a.Uk)(" "+(0,s.zw)(e.expense),1)])]),(0,a._)("td",de,[(0,a._)("div",ve,[_e,(0,a.Uk)(" "+(0,s.zw)(e.subtotal),1)])]),(0,a._)("td",we,[(0,a._)("div",pe,[me,he,(0,a._)("strong",null,(0,s.zw)(e.total),1)])])])))),128))]),(0,a._)("tfoot",null,[(0,a._)("tr",null,[ge,(0,a._)("td",xe,[(0,a._)("div",be,[(0,a._)("span",Ue,"Saldo "+(0,s.zw)((0,o.SU)(i.e7)[(0,o.SU)(st)-1])+":",1),fe,(0,a._)("strong",null,(0,s.zw)((0,o.SU)(wt).previous),1)])]),(0,a._)("td",ke,[(0,a._)("div",ye,[(0,a._)("span",ze,[Ne,(0,a.Wm)(vt,{name:"add_circle_outline"}),Se]),Te,(0,a._)("strong",null,(0,s.zw)((0,o.SU)(wt).entry),1)])]),(0,a._)("td",Ie,[(0,a._)("div",Ee,[(0,a._)("span",De,[Ae,(0,a.Wm)(vt,{name:"remove_circle_outline"}),We]),qe,(0,a._)("strong",null,(0,s.zw)((0,o.SU)(wt).tithe),1)])]),(0,a._)("td",Le,[(0,a._)("div",Ge,[(0,a._)("span",Me,[Fe,(0,a.Wm)(vt,{name:"add_circle_outline"}),He]),$e,(0,a._)("strong",null,(0,s.zw)((0,o.SU)(wt).entryTotal),1)])]),(0,a._)("td",Re,[(0,a._)("div",Ve,[(0,a._)("span",je,[Ye,(0,a.Wm)(vt,{name:"remove_circle_outline"}),Ce]),Oe,(0,a._)("strong",null,(0,s.zw)((0,o.SU)(wt).expense),1)])]),(0,a._)("td",Ze,[(0,a._)("div",Qe,[Pe,Be,(0,a._)("strong",null,(0,s.zw)((0,o.SU)(wt).subtotal),1)])]),(0,a._)("td",Ke,[(0,a._)("div",Je,[Xe,et,(0,a._)("strong",null,(0,s.zw)((0,o.SU)(wt).total),1)])])])])])])])):0===dt.value.length&&"MONTH"===nt.value.value?((0,a.wg)(),(0,a.iD)("div",tt,[lt,(0,a._)("strong",null,(0,s.zw)((0,o.SU)(i.e7)[it.value.value-1]),1),at])):(0,a.kq)("",!0)])}}});var ot=l(8240),nt=l(2448),it=l(6115),rt=l(6429),ut=l(4554),ct=l(7518),dt=l.n(ct);const vt=st,_t=vt;dt()(st,"components",{QBtn:ot.Z,QSelect:nt.Z,QField:it.Z,QTable:rt.Z,QIcon:ut.Z})}}]);