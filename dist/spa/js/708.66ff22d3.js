"use strict";(globalThis["webpackChunksmi_frontend"]=globalThis["webpackChunksmi_frontend"]||[]).push([[708],{4708:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Cl});var o=t(3673),a=t(2323),s=t(1959),n=t(8880),r=t(8339),i=t(2993),u=t(4781),c=t(4626),d=t(925),m=t(9236),v=t(2505),p=t.n(v),_=function(e,l,t,o){function a(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,s){function n(e){try{i(o.next(e))}catch(l){s(l)}}function r(e){try{i(o["throw"](e))}catch(l){s(l)}}function i(e){e.done?t(e.value):a(e.value).then(n,r)}i((o=o.apply(e,l||[])).next())}))};const f=e=>((0,o.dD)("data-v-74f7c224"),e=e(),(0,o.Cn)(),e),w={key:0,class:"container"},g={class:"treasury-title"},y={class:"row"},h={class:"q-mb-md col-xs-12"},b={class:"row",id:"report-month"},x={class:"col-12"},k={class:"text-center report-title"},q={class:"col-xs-12 col-sm-12 col-md-6 q-mb-lg q-pb-lg"},U=f((()=>(0,o._)("div",{class:"row justify-end"},[(0,o._)("h3",{class:"text-primary flow-title col-xs-12 col-sm-12"},"Ingresos Asociación")],-1))),z={class:"row"},D={class:"col-xs-12 col-sm-12 col-md-10"},S={class:"col-8"},W={class:"col-xs-4 col-sm-4 text-right"},$={class:"row justify-end"},T={class:"col-xs-12 col-sm-12"},F={class:"row justify-end"},C=f((()=>(0,o._)("div",{class:"col-8"},[(0,o._)("strong",null,"Total:")],-1))),j={class:"col-xs-4 col-sm-4 text-right"},E={key:0,class:"col-xs-12 col-sm-12 col-md-6 q-mb-lg q-pb-lg"},I=f((()=>(0,o._)("h3",{class:"text-primary flow-title"},"Gastos Asociación",-1))),Q={class:"row"},Z={class:"col-xs-12 col-sm-12 col-md-10"},H={class:"q-table-simple q-table__container q-table--horizontal-separator column no-wrap q-table--dense q-table--no-wrap"},V={class:"q-table treasury-table-data"},A=f((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{class:"text-left"},[(0,o._)("strong",null,"Descripción")]),(0,o._)("th",{class:"text-left"},[(0,o._)("strong",null,"Datos de facturación")]),(0,o._)("th",{class:"text-right"},[(0,o._)("strong",null,"Valor")])])],-1))),N={class:"text-left"},O={class:"treasury-departament"},P={class:"text-left"},L={class:"treasury-list-concepts"},R={key:0},Y=f((()=>(0,o._)("strong",null,"Tipo de documento:",-1))),B={key:1},M=f((()=>(0,o._)("strong",null,"Número de documento:",-1))),G={key:2},K=f((()=>(0,o._)("strong",null,"Proveedor:",-1))),J={class:"text-right total"},X=f((()=>(0,o._)("th",{class:"text-left",colspan:"2"},[(0,o._)("strong",null,"Total")],-1))),ee={class:"text-right"},le={class:"col-xs-12 col-sm-12 col-md-6 q-mb-lg q-pb-lg"},te=f((()=>(0,o._)("h3",{class:"text-primary flow-title"},"Estado del depósito",-1))),oe={class:"row q-col-gutter-sm"},ae={class:"col-xs-12 col-sm-12 col-md-10"},se={class:"self-center full-width no-outline"},ne={class:"q-field__suffix no-pointer-events suffix-icon"},re={class:"col-xs-12 col-sm-12 col-md-10"},ie={class:"col-xs-12 col-sm-12 col-md-10"},ue={class:"self-center full-width no-outline"},ce={class:"col-xs-12 col-sm-12 col-md-10"},de={class:"row items-center justify-end"},me=f((()=>(0,o._)("div",{class:"row"},null,-1))),ve=f((()=>(0,o._)("h3",{class:"text-primary flow-title q-pt-lg"},"Comprobante de pago",-1))),pe={class:"row q-col-gutter-sm"},_e={class:"col-xs-12 col-sm-12 col-md-5"},fe={class:"voucher-desktop"},we={class:"row no-wrap items-center q-pa-sm q-gutter-xs"},ge={class:"col"},ye=["href"],he={class:"q-uploader__subtitle"},be={class:"voucher-mobile"},xe={class:"row no-wrap items-center q-pa-sm q-gutter-xs voucher-mobile-inner"},ke={class:"col"},qe=["href"],Ue={key:1,class:"text-grey"},ze={class:"voucher-mobile-trigger q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--no-wrap bg-warning text-white"},De={class:"row"},Se={class:"q-mb-md col-xs-12"},We={class:"row",id:"report-month-local"},$e={class:"col-12"},Te={class:"text-center report-title"},Fe={class:"col-xs-12 col-sm-12 col-md-6 q-mb-lg q-pb-lg"},Ce=f((()=>(0,o._)("div",{class:"row justify-start"},[(0,o._)("h3",{class:"text-primary flow-title col-xs-12 col-sm-12"},"Ingresos Iglesia local")],-1))),je={class:"row"},Ee={class:"col-xs-12 col-sm-12 col-md-10"},Ie={class:"col-8"},Qe={class:"col-xs-4 col-sm-4 text-right"},Ze={class:"row justify-start"},He={class:"col-xs-12 col-sm-12"},Ve={class:"row justify-start"},Ae=f((()=>(0,o._)("div",{class:"col-8"},[(0,o._)("strong",null,"Total:")],-1))),Ne={class:"col-xs-4 col-sm-4 text-right"},Oe={class:"col-xs-12 col-sm-12 col-md-6"},Pe=f((()=>(0,o._)("h3",{class:"text-primary flow-title"},"Gastos Iglesia local",-1))),Le={class:"row"},Re={class:"col-xs-12 col-sm-12 col-md-10"},Ye={class:"q-table-simple q-table__container q-table--horizontal-separator column no-wrap q-table--dense q-table--no-wrap"},Be={class:"q-table treasury-table-data"},Me=f((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{class:"text-left"},[(0,o._)("strong",null,"Descripción")]),(0,o._)("th",{class:"text-left no-wrap"},[(0,o._)("strong")]),(0,o._)("th",{class:"text-right"},[(0,o._)("strong",null,"Valor")])])],-1))),Ge={class:"text-left no-wrap"},Ke={class:"treasury-departament"},Je={class:"text-left"},Xe={class:"treasury-list-concepts"},el={key:0},ll=f((()=>(0,o._)("strong",null,"Tipo documento:",-1))),tl={key:1},ol=f((()=>(0,o._)("strong",null,"Nro. documento:",-1))),al={key:2},sl=f((()=>(0,o._)("strong",null,"Proveedor:",-1))),nl={class:"text-right total"},rl=f((()=>(0,o._)("th",{class:"text-left",colspan:"2"},[(0,o._)("strong",null,"Total")],-1))),il={class:"text-right"},ul={key:0,class:"text-right q-pt-md q-gutter-xs"},cl=(0,o.aZ)({__name:"Report",setup(e){var l,t;const v=(0,m.o)(),f=null===(t=null===(l=v.state.user)||void 0===l?void 0:l.user)||void 0===t?void 0:t.company.id,cl=(0,s.iH)("entry"),dl=(0,s.iH)([]),ml=(0,s.iH)([]),vl=(0,s.iH)([]),pl=(0,s.iH)([]),_l=(0,s.iH)(),fl=(0,s.iH)([]),wl=(0,s.iH)(0),gl=(0,s.iH)(),yl=(0,s.iH)(""),hl=(0,r.yj)(),bl=(0,r.tv)(),{entryId:xl,expenseId:kl}=hl.params,ql=`${i.urlBase}entries/${xl}/upload`,Ul=[{name:"Authorization",value:`Bearer ${u.storage.get("token")}`}],zl=(0,s.iH)(!1),Dl=(0,s.iH)(null),Sl=5242880;function Wl(e){const l=e.lastIndexOf(".");if(-1===l)return e.replace(/\./g,"");const t=e.slice(0,l),o=e.slice(l),a=t.replace(/\./g,"");return a+o}function $l(e){var l,t;return _(this,void 0,void 0,(function*(){const o=e.target,a=null===(l=o.files)||void 0===l?void 0:l[0];if(!a||!_l.value)return;if(a.size>Sl)return c.message.error("El archivo supera el tamaño máximo (5 MB)"),void(o.value="");zl.value=!0;const s=new FormData,n=Wl(a.name);s.append("file",a,n);try{const e=yield fetch(ql,{method:"POST",headers:{Authorization:`Bearer ${u.storage.get("token")}`},body:s}),l=yield e.json();(null===(t=l.data)||void 0===t?void 0:t.filename)?_l.value.voucherDeposited=l.data.filename:c.message.error("Error al subir el comprobante")}catch(r){c.message.error("Error al subir el comprobante")}finally{zl.value=!1,o.value=""}}))}const Tl=()=>_(this,void 0,void 0,(function*(){yield i.http.put(`entries/${xl}`,{totalDeposited:gl.value,dateDeposited:(0,d.Fv)(yl.value)})}));(0,o.YP)(gl,(()=>{Tl()})),(0,o.YP)(yl,(()=>{Tl()}));const Fl=()=>_(this,void 0,void 0,(function*(){const e={type_treasury:"ENTRY",id_company:f,year:_l.value.year,month:_l.value.month,type:"MONTH",order:"id_department",type_department:"GLOBAL"},l=yield i.http.get(i.http.convertQuery("flows",e));dl.value=l.rows})),Cl=()=>_(this,void 0,void 0,(function*(){const e=yield i.http.get(`flows/send/${_l.value.year}/${_l.value.month}`);ml.value=e.rows})),jl=()=>_(this,void 0,void 0,(function*(){const e={type_treasury:"ENTRY",id_company:f,year:_l.value.year,month:_l.value.month,type:"MONTH",order:"id_department",type_department:"LOCAL"},l=yield i.http.get(i.http.convertQuery("flows",e));vl.value=l.rows}));function El(e){c.message.error(`${e.length} el/los archivo(s) no pasaron las restricciones de validación`)}function Il(e){try{const l=JSON.parse(e.xhr.response);_l.value.voucherDeposited=l.data.filename}catch(l){}}const Ql=()=>_(this,void 0,void 0,(function*(){_l.value=yield i.http.get(`entries/${parseInt(xl)}`),gl.value=_l.value.totalDeposited,yl.value=(0,d.WU)(_l.value.dateDeposited),fl.value=(0,d.KS)(_l.value.year,_l.value.month);const e=yield i.http.get(`entriesdetails?id_entry=${_l.value.id}`),l={1:{total:0,local:0,global:0},2:{total:0,local:0,global:0},3:{total:0,local:0,global:0},4:{total:0,local:0,global:0},5:{total:0,local:0,global:0}};e.rows.forEach((e=>{l[e.week].global+=Number(e.value)})),wl.value=0,fl.value.forEach((e=>{e.total=l[e.week].global,wl.value+=e.total}))})),Zl=()=>_(this,void 0,void 0,(function*(){const e=yield i.http.get(`expensesdetails?id_expense=${kl}`);pl.value=e.rows})),Hl=(0,o.Fl)((()=>{let e=0;return ml.value.forEach((l=>{e+=Number(l.total)})),e})),Vl=(0,o.Fl)((()=>{let e=0;return vl.value.forEach((l=>{e+=Number(l.netTotal)})),e})),Al=(0,o.Fl)((()=>{let e=0;for(const l of Ol.value)e+=parseFloat(l.value);return e})),Nl=(0,o.Fl)((()=>{let e=0;for(const l of Pl.value)e+=parseFloat(l.value);return e})),Ol=(0,o.Fl)((()=>pl.value.filter((e=>"LOCAL"===e.type)))),Pl=(0,o.Fl)((()=>pl.value.filter((e=>"GLOBAL"===e.type)))),Ll=()=>u.storage.exist("report")?(u.storage.remove("report"),bl.push("/treasury/report/month")):bl.push(`/treasury/entryexpense/${String(xl)}/${String(kl)}`),Rl=()=>_(this,void 0,void 0,(function*(){var e,l,t;const o=document.getElementById("report-month");if(!o)return;yield new Promise((e=>setTimeout(e,100)));const a={margin:[10,10,10,10],filename:`informe-mensual-asociacion-${(null===(e=v.state.user.user.company)||void 0===e?void 0:e.name)||"iglesia"}-${(null===(l=_l.value)||void 0===l?void 0:l.month)||""}-${(null===(t=_l.value)||void 0===t?void 0:t.year)||""}-${Date.now()}.pdf`,image:{type:"jpeg",quality:1},html2canvas:{scale:2.5,useCORS:!0,logging:!1,backgroundColor:"#ffffff"},jsPDF:{unit:"mm",format:"letter",orientation:"portrait"}};p()().set(a).from(o).save()})),Yl=()=>_(this,void 0,void 0,(function*(){var e,l,t;const o=document.getElementById("report-month-local");if(!o)return;yield new Promise((e=>setTimeout(e,100)));const a={margin:[10,10,10,10],filename:`informe-mensual-local-${(null===(e=v.state.user.user.company)||void 0===e?void 0:e.name)||"iglesia"}-${(null===(l=_l.value)||void 0===l?void 0:l.month)||""}-${(null===(t=_l.value)||void 0===t?void 0:t.year)||""}-${Date.now()}.pdf`,image:{type:"jpeg",quality:1},html2canvas:{scale:2.5,useCORS:!0,logging:!1,backgroundColor:"#ffffff"},jsPDF:{unit:"mm",format:"letter",orientation:"portrait"}};p()().set(a).from(o).save()}));return(0,o.bv)((()=>_(this,void 0,void 0,(function*(){yield Ql(),yield Fl(),yield jl(),yield Zl(),yield Cl()})))),(e,l)=>{const t=(0,o.up)("q-btn"),r=(0,o.up)("q-tab"),c=(0,o.up)("q-tabs"),m=(0,o.up)("q-separator"),p=(0,o.up)("q-icon"),_=(0,o.up)("q-field"),f=(0,o.up)("q-input"),dl=(0,o.up)("q-date"),pl=(0,o.up)("q-popup-proxy"),fl=(0,o.up)("q-form"),wl=(0,o.up)("q-spinner"),hl=(0,o.up)("q-uploader-add-trigger"),bl=(0,o.up)("q-tooltip"),xl=(0,o.up)("q-uploader"),kl=(0,o.up)("q-tab-panel"),Sl=(0,o.up)("q-tab-panels"),Wl=(0,o.Q2)("close-popup");return _l.value?((0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("h2",g,[(0,o.Wm)(t,{icon:"arrow_back",round:"",flat:"",onClick:Ll}),(0,o.Uk)(" Informe mensual - "+(0,a.zw)((0,s.SU)(d.e7)[_l.value.month-1])+" "+(0,a.zw)(_l.value.year),1)]),(0,o.Wm)(c,{modelValue:cl.value,"onUpdate:modelValue":l[0]||(l[0]=e=>cl.value=e),"inline-label":"","outside-arrows":"","mobile-arrows":"",align:"left",dense:"","no-caps":"","indicator-color":"warning",class:"bg-primary text-white"},{default:(0,o.w5)((()=>{var l;return[(0,o.Wm)(r,{name:"entry",icon:"paid",label:"Asociación Boliviana"}),(0,o.Wm)(r,{name:"expense",icon:"money_off",label:null===(l=e.$store.state.user.user.company)||void 0===l?void 0:l.name},null,8,["label"])]})),_:1},8,["modelValue"]),(0,o.Wm)(Sl,{modelValue:cl.value,"onUpdate:modelValue":l[4]||(l[4]=e=>cl.value=e),animated:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,o.w5)((()=>[(0,o.Wm)(kl,{name:"entry"},{default:(0,o.w5)((()=>{var r,u,c,w;return[(0,o._)("div",y,[(0,o._)("div",h,[(0,o.Wm)(t,{icon:"print","no-caps":"",onClick:Rl},{default:(0,o.w5)((()=>[(0,o.Uk)("  Imprimir ")])),_:1})])]),(0,o._)("div",b,[(0,o._)("div",x,[(0,o._)("h2",k,[(0,o.Uk)(" INFORME MENSUAL DE TESORERÍA DE IGLESIA "),(0,o._)("strong",null,(0,a.zw)(null===(r=(0,s.SU)(v).state.user.user.company)||void 0===r?void 0:r.name),1),(0,o._)("span",null,(0,a.zw)((0,s.SU)(d.e7)[_l.value.month-1])+" "+(0,a.zw)(_l.value.year),1)])]),(0,o._)("div",q,[U,(0,o._)("div",z,[(0,o._)("div",D,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(ml.value,(l=>{var t,s,n;return(0,o.wg)(),(0,o.iD)("div",{key:l.id,class:"row justify-end"},[l.department?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",S,(0,a.zw)(l.department.name),1),(0,o._)("div",W,(0,a.zw)(Number(l.total).toFixed(2))+" "+(0,a.zw)(null===(n=null===(s=null===(t=e.$store.state.user)||void 0===t?void 0:t.user)||void 0===s?void 0:s.company)||void 0===n?void 0:n.money),1)],64)):(0,o.kq)("",!0)])})),128)),(0,o._)("div",$,[(0,o._)("div",T,[(0,o.Wm)(m)])]),(0,o._)("div",F,[C,(0,o._)("div",j,[(0,o._)("strong",null,(0,a.zw)((0,s.SU)(Hl).toFixed(2))+" "+(0,a.zw)(null===(w=null===(c=null===(u=e.$store.state.user)||void 0===u?void 0:u.user)||void 0===c?void 0:c.company)||void 0===w?void 0:w.money),1)])])])])]),(0,s.SU)(Nl)>0?((0,o.wg)(),(0,o.iD)("div",E,[I,(0,o._)("div",Q,[(0,o._)("div",Z,[(0,o._)("div",H,[(0,o._)("table",V,[A,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,s.SU)(Pl),(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("td",N,[(0,o.Uk)((0,a.zw)(e.concept)+" ",1),(0,o._)("strong",O,(0,a.zw)(e.department.name),1),(0,o._)("em",null,"Registrado el "+(0,a.zw)((0,s.SU)(d.WU)(e.date)),1)]),(0,o._)("td",P,[(0,o._)("ul",L,[e.document_type?((0,o.wg)(),(0,o.iD)("li",R,[Y,(0,o.Uk)(" "+(0,a.zw)(e.document_type),1)])):(0,o.kq)("",!0),e.document_number?((0,o.wg)(),(0,o.iD)("li",B,[M,(0,o.Uk)(" "+(0,a.zw)(e.document_number),1)])):(0,o.kq)("",!0),e.supplier?((0,o.wg)(),(0,o.iD)("li",G,[K,(0,o.Uk)(" "+(0,a.zw)(e.supplier),1)])):(0,o.kq)("",!0)])]),(0,o._)("td",J,(0,a.zw)(Number(e.value).toFixed(2)),1)])))),128))]),(0,o._)("tfoot",null,[(0,o._)("tr",null,[X,(0,o._)("th",ee,[(0,o._)("strong",null,(0,a.zw)((0,s.SU)(Nl).toFixed(2)),1)])])])])])])])])):(0,o.kq)("",!0),(0,o._)("div",le,[te,(0,o.Wm)(fl,{onSubmit:(0,n.iM)(Tl,["prevent"])},{default:(0,o.w5)((()=>{var n,r,i;return[(0,o._)("div",oe,[(0,o._)("div",ae,[(0,o.Wm)(_,{filled:"",label:"Total a ser enviado","stack-label":""},{prepend:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"attach_money"})])),control:(0,o.w5)((()=>[(0,o._)("div",se,(0,a.zw)((0,s.SU)(Hl).toFixed(2)),1)])),append:(0,o.w5)((()=>{var l,t,s;return[(0,o._)("span",ne,(0,a.zw)(null===(s=null===(t=null===(l=e.$store.state.user)||void 0===l?void 0:l.user)||void 0===t?void 0:t.company)||void 0===s?void 0:s.money),1)]})),_:1})]),(0,o._)("div",re,[(0,o.Wm)(f,{modelValue:gl.value,"onUpdate:modelValue":l[1]||(l[1]=e=>gl.value=e),filled:"",placeholder:"0",class:"text-right",label:"Total enviado",suffix:null===(i=null===(r=null===(n=e.$store.state.user)||void 0===n?void 0:n.user)||void 0===r?void 0:r.company)||void 0===i?void 0:i.money,debounce:"1000"},{prepend:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"attach_money"})])),_:1},8,["modelValue","suffix"])]),(0,o._)("div",ie,[(0,o.Wm)(_,{filled:"",label:"Tesorero de la iglesia","stack-label":""},{prepend:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"person"})])),control:(0,o.w5)((()=>{var l,t;return[(0,o._)("div",ue,(0,a.zw)(null===(t=null===(l=e.$store.state.user)||void 0===l?void 0:l.user)||void 0===t?void 0:t.fullname),1)]})),_:1})]),(0,o._)("div",ce,[(0,o.Wm)(f,{filled:"",label:"Fecha del envío",modelValue:yl.value,"onUpdate:modelValue":l[3]||(l[3]=e=>yl.value=e),debounce:"1000",rules:[]},{append:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"event",class:"cursor-pointer"},{default:(0,o.w5)((()=>[(0,o.Wm)(pl,{ref:"birthdayDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(dl,{modelValue:yl.value,"onUpdate:modelValue":l[2]||(l[2]=e=>yl.value=e),minimal:"",mask:"DD/MM/YYYY"},{default:(0,o.w5)((()=>[(0,o._)("div",de,[(0,o.wy)((0,o.Wm)(t,{label:"Cerrar",color:"primary",flat:""},null,512),[[Wl]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])])])]})),_:1},8,["onSubmit"])]),me]),ve,(0,o._)("div",pe,[(0,o._)("div",_e,[(0,o._)("div",fe,[(0,o.Wm)(xl,{url:ql,headers:Ul,"field-name":"file",accept:"image/*,application/pdf","max-file-size":5242880,multiple:!1,"auto-upload":"",class:"full-width voucher-uploader",onUploaded:Il,onRejected:El},{header:(0,o.w5)((e=>[(0,o._)("div",we,[e.isUploading?((0,o.wg)(),(0,o.j4)(wl,{key:0,class:"q-uploader__spinner"})):(0,o.kq)("",!0),(0,o._)("div",ge,[_l.value.voucherDeposited?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"q-uploader__title text-white",href:`${(0,s.SU)(i.urlBase).replace(/\/api\//g,"")}/files/${_l.value.voucherDeposited}`,target:"blank"},[(0,o.Wm)(p,{name:"file_download"}),(0,o.Uk)(" "+(0,a.zw)(_l.value.voucherDeposited),1)],8,ye)):(0,o.kq)("",!0),(0,o._)("div",he,(0,a.zw)(e.uploadSizeLabel)+" / "+(0,a.zw)(e.uploadProgressLabel),1)]),e.canAddFiles?((0,o.wg)(),(0,o.j4)(t,{key:1,type:"a","no-caps":"",color:"warning",icon:"add_box",class:"voucher-uploader-trigger"},{default:(0,o.w5)((()=>[(0,o.Wm)(hl),(0,o.Uk)(" "+(0,a.zw)(_l.value.voucherDeposited?"Cambiar archivo":"Seleccionar archivo")+" ",1),(0,o.Wm)(bl,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(_l.value.voucherDeposited?"Cambiar archivo":"Seleccionar archivo"),1)])),_:1})])),_:1})):(0,o.kq)("",!0),e.canUpload?((0,o.wg)(),(0,o.j4)(t,{key:2,icon:"cloud_upload",onClick:e.upload,round:"",dense:"",flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(bl,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Subir archivo")])),_:1})])),_:2},1032,["onClick"])):(0,o.kq)("",!0),e.isUploading?((0,o.wg)(),(0,o.j4)(t,{key:3,icon:"clear",onClick:e.abort,round:"",dense:"",flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(bl,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Cancela subida")])),_:1})])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])])),_:1})]),(0,o._)("div",be,[(0,o._)("div",xe,[zl.value?((0,o.wg)(),(0,o.j4)(wl,{key:0,size:"sm",color:"warning"})):(0,o.kq)("",!0),(0,o._)("div",ke,[_l.value.voucherDeposited?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"text-primary",href:`${(0,s.SU)(i.urlBase).replace(/\/api\//g,"")}/files/${_l.value.voucherDeposited}`,target:"_blank",rel:"noopener"},[(0,o.Wm)(p,{name:"file_download"}),(0,o.Uk)(" "+(0,a.zw)(_l.value.voucherDeposited),1)],8,qe)):((0,o.wg)(),(0,o.iD)("span",Ue,"Sin comprobante"))]),(0,o._)("label",ze,[(0,o._)("input",{ref_key:"mobileVoucherInputRef",ref:Dl,type:"file",accept:"image/*,application/pdf",class:"voucher-mobile-input-overlay",onChange:$l},null,544),(0,o.Wm)(p,{name:"add_box"}),(0,o.Uk)(" "+(0,a.zw)(_l.value.voucherDeposited?"Cambiar archivo":"Seleccionar archivo"),1)])])])])])]})),_:1}),(0,o.Wm)(kl,{name:"expense"},{default:(0,o.w5)((()=>{var l,n,r,i;return[(0,o._)("div",De,[(0,o._)("div",Se,[(0,o.Wm)(t,{icon:"print","no-caps":"",onClick:Yl},{default:(0,o.w5)((()=>[(0,o.Uk)("  Imprimir ")])),_:1})])]),(0,o._)("div",We,[(0,o._)("div",$e,[(0,o._)("h2",Te,[(0,o.Uk)(" INFORME MENSUAL DE INGRESOS Y GASTOS IGLESIA LOCAL "),(0,o._)("strong",null,(0,a.zw)(null===(l=(0,s.SU)(v).state.user.user.company)||void 0===l?void 0:l.name),1),(0,o._)("span",null,(0,a.zw)((0,s.SU)(d.e7)[_l.value.month-1])+" "+(0,a.zw)(_l.value.year),1)])]),(0,o._)("div",Fe,[Ce,(0,o._)("div",je,[(0,o._)("div",Ee,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(vl.value,(l=>{var t,s,n;return(0,o.wg)(),(0,o.iD)("div",{key:l.id,class:"row justify-start"},[(0,o._)("div",Ie,(0,a.zw)(l.department.name),1),(0,o._)("div",Qe,(0,a.zw)((1*l.netTotal).toFixed(2))+" "+(0,a.zw)(null===(n=null===(s=null===(t=e.$store.state.user)||void 0===t?void 0:t.user)||void 0===s?void 0:s.company)||void 0===n?void 0:n.money),1)])})),128)),(0,o._)("div",Ze,[(0,o._)("div",He,[(0,o.Wm)(m)])]),(0,o._)("div",Ve,[Ae,(0,o._)("div",Ne,[(0,o._)("strong",null,(0,a.zw)((1*(0,s.SU)(Vl)).toFixed(2))+" "+(0,a.zw)(null===(i=null===(r=null===(n=e.$store.state.user)||void 0===n?void 0:n.user)||void 0===r?void 0:r.company)||void 0===i?void 0:i.money),1)])])])])]),(0,o._)("div",Oe,[Pe,(0,o._)("div",Le,[(0,o._)("div",Re,[(0,o._)("div",Ye,[(0,o._)("table",Be,[Me,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,s.SU)(Ol),(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("td",Ge,[(0,o.Uk)((0,a.zw)(e.concept)+" ",1),(0,o._)("strong",Ke,(0,a.zw)(e.department.name),1),(0,o._)("em",null,"Registrado el "+(0,a.zw)((0,s.SU)(d.WU)(e.date)),1)]),(0,o._)("td",Je,[(0,o._)("ul",Xe,[e.document_type?((0,o.wg)(),(0,o.iD)("li",el,[ll,(0,o.Uk)(" "+(0,a.zw)(e.document_type),1)])):(0,o.kq)("",!0),e.document_number?((0,o.wg)(),(0,o.iD)("li",tl,[ol,(0,o.Uk)(" "+(0,a.zw)(e.document_number),1)])):(0,o.kq)("",!0),e.supplier?((0,o.wg)(),(0,o.iD)("li",al,[sl,(0,o.Uk)(" "+(0,a.zw)(e.supplier),1)])):(0,o.kq)("",!0)])]),(0,o._)("td",nl,(0,a.zw)(Number(e.value).toFixed(2)),1)])))),128))]),(0,o._)("tfoot",null,[(0,o._)("tr",null,[rl,(0,o._)("th",il,[(0,o._)("strong",null,(0,a.zw)((0,s.SU)(Al).toFixed(2)),1)])])])])])])])])])]})),_:1})])),_:1},8,["modelValue"]),(0,s.SU)(u.storage).exist("report")?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",ul,[(0,o.Wm)(t,{label:"Ver flujo de caja","no-caps":"",icon:"account_balance",class:"btn-close-month",onClick:l[5]||(l[5]=l=>e.$router.push("/treasury/flows/general"))})]))])):(0,o.kq)("",!0)}}});var dl=t(4260),ml=t(2165),vl=t(7547),pl=t(3269),_l=t(5906),fl=t(6602),wl=t(5869),gl=t(6429),yl=t(8689),hl=t(6115),bl=t(4554),xl=t(4689),kl=t(3944),ql=t(5836),Ul=t(2046),zl=t(9754),Dl=t(1728),Sl=t(5363),Wl=t(677),$l=t(7518),Tl=t.n($l);const Fl=(0,dl.Z)(cl,[["__scopeId","data-v-74f7c224"]]),Cl=Fl;Tl()(cl,"components",{QBtn:ml.Z,QTabs:vl.Z,QTab:pl.Z,QTabPanels:_l.Z,QTabPanel:fl.Z,QSeparator:wl.Z,QTable:gl.Z,QForm:yl.Z,QField:hl.Z,QIcon:bl.Z,QInput:xl.Z,QPopupProxy:kl.Z,QDate:ql.Z,QUploader:Ul.Z,QSpinner:zl.Z,QUploaderAddTrigger:Dl.Z,QTooltip:Sl.Z}),Tl()(cl,"directives",{ClosePopup:Wl.Z})}}]);