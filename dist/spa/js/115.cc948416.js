"use strict";(globalThis["webpackChunksmi_frontend"]=globalThis["webpackChunksmi_frontend"]||[]).push([[115],{2149:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Sa});var o,t=a(3673),n=a(2323),i=a(1959),u=a(8880),r=a(2993),s=a(4626),c=a(9236),d=a(925);(function(e){e["SUPERADMINISTRATOR"]="SUPERADMINISTRATOR",e["ADMINISTRATOR_UNION"]="ADMINISTRATOR_UNION",e["ADMINISTRATOR_ASSOCIATION"]="ADMINISTRATOR_ASSOCIATION",e["SECRETARY"]="SECRETARY",e["TREASURER"]="TREASURER",e["WORKER"]="WORKER"})(o||(o={}));const A=()=>[{nationality:"AFGANA",country:"AFGANISTÁN"},{nationality:"ALBANESA",country:"ALBANIA"},{nationality:"ALEMANA",country:"ALEMANIA"},{nationality:"ALTO VOLTEÑA",country:"ALTO VOLTA"},{nationality:"ANDORRANA",country:"ANDORRA"},{nationality:"ANGOLEÑA",country:"ANGOLA"},{nationality:"ARGELINA",country:"ARGELIA"},{nationality:"ARGENTINA",country:"ARGENTINA"},{nationality:"AUSTRALIANA",country:"AUSTRALIA"},{nationality:"AUSTRIACA",country:"AUSTRIA"},{nationality:"BAHAMESA",country:"BAHAMAS"},{nationality:"BAHREINA",country:"BAHREIN"},{nationality:"BANGLADESHA",country:"BANGLADESH"},{nationality:"BARBADESA",country:"BARBADOS"},{nationality:"BELGA",country:"BELGICA"},{nationality:"BELICEÑA",country:"BELICE"},{nationality:"BERMUDESA",country:"BERMUDAS"},{nationality:"BIRMANA",country:"BIRMANIA"},{nationality:"BOLIVIANA",country:"BOLIVIA"},{nationality:"BOTSWANESA",country:"BOTSWANA"},{nationality:"BRASILEÑA",country:"BRASIL"},{nationality:"BULGARA",country:"BULGARIA"},{nationality:"BURUNDESA",country:"BURUNDI"},{nationality:"BUTANA",country:"BUTAN"},{nationality:"CAMBOYANA",country:"KHEMER REP DE CAMBOYA "},{nationality:"CAMERUNESA",country:"CAMERUN"},{nationality:"CANADIENSE",country:"CANADA"},{nationality:"CENTROAFRICANA",country:"REP CENTROAFRICANA"},{nationality:"CHADEÑA",country:"CHAD"},{nationality:"CHECOSLOVACA",country:"REP. CHECA"},{nationality:"CHILENA",country:"CHILE"},{nationality:"CHINA",country:"CHINA"},{nationality:"CHINA",country:"TAIWAN"},{nationality:"CHIPRIOTA",country:"CHIPRE"},{nationality:"COLOMBIANA",country:"COLOMBIA"},{nationality:"CONGOLEÑA",country:"CONGO"},{nationality:"COSTARRICENSE",country:"COSTA RICA"},{nationality:"CUBANA",country:"CUBA"},{nationality:"DAHONEYA",country:"DAHONEY"},{nationality:"DANES",country:"DINAMARCA"},{nationality:"DOMINICANA",country:"REP. DOMINICANA"},{nationality:"ECUATORIANA",country:"ECUADOR"},{nationality:"EGIPCIA",country:"EGIPTO"},{nationality:"EMIRATA",country:"EMIRATOS ARABES UDO."},{nationality:"ESCOSESA",country:"ESCOCIA"},{nationality:"ESLOVACA",country:"REP. ESLOVACA"},{nationality:"ESPAÑOLA",country:"ESPAÑA"},{nationality:"ESTONA",country:"ESTONIA"},{nationality:"ETIOPE",country:"ETIOPIA"},{nationality:"FIJENA",country:"FIJI"},{nationality:"FILIPINA",country:"FILIPINAS"},{nationality:"FINLANDESA",country:"FINLANDIA"},{nationality:"FRANCESA",country:"FRANCIA"},{nationality:"GABIANA",country:"GAMBIA"},{nationality:"GABONA",country:"GABON"},{nationality:"GALESA",country:"GALES"},{nationality:"GHANESA",country:"GHANA"},{nationality:"GRANADEÑA",country:"GRANADA"},{nationality:"GRIEGA",country:"GRECIA"},{nationality:"GUATEMALTECA",country:"GUATEMALA"},{nationality:"GUINESA ECUATORIANA",country:"GUINEA ECUATORIAL"},{nationality:"GUINESA",country:"GUINEA"},{nationality:"GUYANESA",country:"GUYANA"},{nationality:"HAITIANA",country:"HAITI"},{nationality:"HOLANDESA",country:"HOLANDA"},{nationality:"HONDUREÑA",country:"HONDURAS"},{nationality:"HUNGARA",country:"HUNGRIA"},{nationality:"INDIA",country:"INDIA"},{nationality:"INDONESA",country:"INDONESIA"},{nationality:"INGLESA",country:"INGLATERRA"},{nationality:"IRAKI",country:"IRAK"},{nationality:"IRANI",country:"IRAN"},{nationality:"IRLANDESA",country:"IRLANDA"},{nationality:"ISLANDESA",country:"ISLANDIA"},{nationality:"ISRAELI",country:"ISRAEL"},{nationality:"ITALIANA",country:"ITALIA"},{nationality:"JAMAIQUINA",country:"JAMAICA"},{nationality:"JAPONESA",country:"JAPON"},{nationality:"JORDANA",country:"JORDANIA"},{nationality:"KATENSA",country:"KATAR"},{nationality:"KENIANA",country:"KENIA"},{nationality:"KUWAITI",country:"KWAIT"},{nationality:"LAOSIANA",country:"LAOS"},{nationality:"LEONESA",country:"SIERRA LEONA"},{nationality:"LESOTHENSA",country:"LESOTHO"},{nationality:"LETONESA",country:"LETONIA"},{nationality:"LIBANESA",country:"LIBANO"},{nationality:"LIBERIANA",country:"LIBERIA"},{nationality:"LIBEÑA",country:"LIBIA"},{nationality:"LIECHTENSTEIN",country:"LIECHTENSTEIN"},{nationality:"LITUANA",country:"LITUANIA"},{nationality:"LUXEMBURGO",country:"LUXEMBURGO"},{nationality:"MADAGASCAR",country:"MADAGASCAR"},{nationality:"MALACA",country:"FEDE. DE MALASIA"},{nationality:"MALAWI",country:"MALAWI"},{nationality:"MALDIVAS",country:"MALDIVAS"},{nationality:"MALI",country:"MALI"},{nationality:"MALTESA",country:"MALTA"},{nationality:"MARFILESA",country:"COSTA DE MARFIL"},{nationality:"MARROQUI",country:"MARRUECOS"},{nationality:"MAURICIO",country:"MAURICIO"},{nationality:"MAURITANA",country:"MAURITANIA"},{nationality:"MEXICANA",country:"MÉXICO"},{nationality:"MONACO",country:"MONACO"},{nationality:"MONGOLESA",country:"MONGOLIA"},{nationality:"NAURU",country:"NAURU"},{nationality:"NEOZELANDESA",country:"NUEVA ZELANDIA"},{nationality:"NEPALESA",country:"NEPAL"},{nationality:"NICARAGUENSE",country:"NICARAGUA"},{nationality:"NIGERANA",country:"NIGER"},{nationality:"NIGERIANA",country:"NIGERIA"},{nationality:"NORCOREANA",country:"COREA DEL NORTE"},{nationality:"NORIRLANDESA",country:"IRLANDA DEL NORTE"},{nationality:"NORTEAMERICANA",country:"ESTADOS UNIDOS"},{nationality:"NORUEGA",country:"NORUEGA"},{nationality:"OMANA",country:"OMAN"},{nationality:"PAKISTANI",country:"PAKISTAN"},{nationality:"PANAMEÑA",country:"PANAMA"},{nationality:"PARAGUAYA",country:"PARAGUAY"},{nationality:"PERUANA",country:"PERU"},{nationality:"POLACA",country:"POLONIA"},{nationality:"PORTORIQUEÑA",country:"PUERTO RICO"},{nationality:"PORTUGUESA",country:"PORTUGAL"},{nationality:"RHODESIANA",country:"RHODESIA"},{nationality:"RUANDA",country:"RUANDA"},{nationality:"RUMANA",country:"RUMANIA"},{nationality:"RUSA",country:"RUSSIA"},{nationality:"SALVADOREÑA",country:"EL SALVADOR"},{nationality:"SAMOA OCCIDENTAL",country:"SAMOA OCCIDENTAL"},{nationality:"SAN MARINO",country:"SAN MARINO"},{nationality:"SAUDI",country:"ARABIA SAUDITA"},{nationality:"SENEGALESA",country:"SENEGAL"},{nationality:"SIKKIM",country:"SIKKIM"},{nationality:"SINGAPUR",country:"SINGAPUR"},{nationality:"SIRIA",country:"SIRIA"},{nationality:"SOMALIA",country:"SOMALIA"},{nationality:"SOVIETICA",country:"UNION SOVIETICA"},{nationality:"SRI LANKA",country:"SRI LANKA (CEYLAN) "},{nationality:"SUAZILANDESA",country:"SUAZILANDIA"},{nationality:"SUDAFRICANA",country:"SUDAFRICA"},{nationality:"SUDANESA",country:"SUDAN"},{nationality:"SUECA",country:"SUECIA"},{nationality:"SUIZA",country:"SUIZA"},{nationality:"SURCOREANA",country:"COREA DEL SUR"},{nationality:"TAILANDESA",country:"TAILANDIA"},{nationality:"TANZANA",country:"TANZANIA"},{nationality:"TONGA",country:"TONGA"},{nationality:"TONGO",country:"TONGO"},{nationality:"TRINIDAD Y TOBAGO",country:"TRINIDAD Y TOBAGO"},{nationality:"TUNECINA",country:"TUNEZ"},{nationality:"TURCA",country:"TURQUIA"},{nationality:"UGANDESA",country:"UGANDA"},{nationality:"URUGUAYA",country:"URUGUAY"},{nationality:"VATICANO",country:"VATICANO"},{nationality:"VENEZOLANA",country:"VENEZUELA"},{nationality:"VIETNAMITA",country:"VIETNAM"},{nationality:"YEMEN REP ARABE",country:"YEMEN REP. ARABE"},{nationality:"YEMEN REP DEM",country:"YEMEN REP. DEM"},{nationality:"YUGOSLAVA",country:"YUGOSLAVIA"},{nationality:"ZAIRE",country:"ZAIRE"}];var m=a(6872),p=a(5198),v=function(e,l,a,o){function t(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,n){function i(e){try{r(o.next(e))}catch(l){n(l)}}function u(e){try{r(o["throw"](e))}catch(l){n(l)}}function r(e){e.done?a(e.value):t(e.value).then(i,u)}r((o=o.apply(e,l||[])).next())}))};const I={key:0,class:"member-info"},E={class:"row q-col-gutter-x-sm"},y={class:"col-xs-12 col-sm-6 member-info-relative"},N={class:"member-info-title-main"},R=(0,t._)("h3",{class:"member-info-title"},"Datos Personales",-1),O={class:"member-info-list"},b=(0,t._)("strong",null,"Primer apellido:",-1),w=(0,t._)("strong",null,"Segundo apellido:",-1),C=(0,t._)("strong",null,"Nombre(s):",-1),S=(0,t._)("strong",null,"Lugar de nacimiento:",-1),U=(0,t._)("strong",null,"Fecha de nacimiento:",-1),T=(0,t._)("strong",null,"Género:",-1),f=(0,t._)("strong",null,"Estado civil:",-1),D=(0,t._)("strong",null,"Ocupación:",-1),_=(0,t._)("strong",null,"Educación:",-1),g={key:0},L=(0,t._)("strong",null,"Teléfono:",-1),V={key:1},h=(0,t._)("strong",null,"Teléfono móvil:",-1),M=(0,t._)("strong",null,"Nacionalidad:",-1),W=(0,t._)("strong",null,"Dirección:",-1),k={key:0,class:"member-info-photo"},x=["src","alt"],P={class:"col-xs-12 col-sm-6"},q=(0,t._)("h3",{class:"member-info-title"},"Afiliación",-1),G={class:"member-info-list"},B=(0,t._)("strong",null,"Iglesia donde pertenece:",-1),Z={class:"text-warning"},H=(0,t._)("strong",null,"Fecha de bautismo:",-1),F=(0,t._)("strong",null,"Bautizado por:",-1),z=(0,t._)("strong",null,"Fecha de aceptación:",-1),Q=(0,t._)("strong",null,"Fecha de aceptación en la iglesia local:",-1),Y=(0,t._)("strong",null,"Procedencia religiosa:",-1),$=(0,t._)("strong",null,"Tipo de membresía:",-1),j={key:0},K={key:0},J=(0,t._)("strong",null,"Fecha en que fue dado/a de baja:",-1),X=(0,t._)("strong",null,"por ",-1),ee={key:1},le=(0,t._)("strong",null,"Estado de la membresía: ",-1),ae=[le],oe={key:0,class:"member-info-title"},te={class:"member-info-list"},ne=(0,t._)("h3",{class:"member-info-title"},"Datos de usuario",-1),ie={class:"member-info-list"},ue=(0,t._)("strong",null,"Nombre de usuario:",-1),re=(0,t._)("strong",null,"Correo electrónico:",-1),se=(0,t._)("strong",null,"Estado del usuario:",-1),ce=(0,t.aZ)({__name:"MemberInfo",props:{id:null},setup(e){const l=e,a={MEMBER:{color:"positive",textColor:"white",label:"MIEMBRO"},SYMPATHIZER:{color:"info",textColor:"white",label:"MIEMBRO DE ESCUELA SABÁTICA"},VISIT:{color:"warning",textColor:"white",label:"VISITA"},ACTIVE:{color:"positive",textColor:"white",label:"ACTIVO"},INACTIVE:{color:"warning",textColor:"white",label:"INACTIVO"},NI:{label:"C.I."},PASSPORT:{label:"PASAPORTE"},OTHER:{label:"OTRO"},MALE:{label:"HOMBRE"},FEMALE:{label:"MUJER"},BAPTIZED:{color:"positive",textColor:"white",label:"BAUTIZADO"},RECEPTION:{color:"positive",textColor:"white",label:"RECIBIMIENTO"},TRANSFER:{color:"positive",textColor:"white",label:"TRANSFERENCIA"},EXCLUSION:{color:"negative",textColor:"white",label:"EXCLUSION"},RESIGNATION:{color:"negative",textColor:"white",label:"RENUNCIA"},DEATH:{color:"negative",textColor:"white",label:"FALLECIDO"},SINGLE:{male:"SOLTERO",female:"SOLTERA"},MARRIED:{male:"CASADO",female:"CASADA"},DIVORCED:{male:"DIVORCIADO",female:"DIVORCIADA"},WIDOW:{male:"VIUDO",female:"VIUDA"}},o=(0,i.iH)(),u=(0,i.iH)();return(0,t.bv)((()=>v(this,void 0,void 0,(function*(){o.value=yield r.http.get(`users/${l.id}`),u.value=(yield r.http.get(`positionsuser?id_user=${l.id}&order=-positionuser.begin`)).rows})))),(e,l)=>{const s=(0,t.up)("q-chip");return o.value?((0,t.wg)(),(0,t.iD)("div",I,[(0,t._)("div",E,[(0,t._)("div",y,[(0,t._)("h2",N,(0,n.zw)(o.value.person.fullname),1),R,(0,t._)("ul",O,[(0,t._)("li",null,[b,(0,t.Uk)(" "+(0,n.zw)(o.value.person.lastName),1)]),(0,t._)("li",null,[w,(0,t.Uk)(" "+(0,n.zw)(o.value.person.secondLastName),1)]),(0,t._)("li",null,[C,(0,t.Uk)(" "+(0,n.zw)(o.value.person.firstName),1)]),(0,t._)("li",null,[(0,t._)("strong",null,(0,n.zw)(a[o.value.person.documentType].label)+":",1),(0,t.Uk)(" "+(0,n.zw)(o.value.person.documentNumber),1)]),(0,t._)("li",null,[S,(0,t.Uk)(" "+(0,n.zw)(o.value.person.birthplaceCountry),1)]),(0,t._)("li",null,[U,(0,t.Uk)(" "+(0,n.zw)((0,i.SU)(d.WU)(o.value.person.birthday)),1)]),(0,t._)("li",null,[T,(0,t.Uk)(" "+(0,n.zw)(a[o.value.person.gender].label),1)]),(0,t._)("li",null,[f,(0,t.Uk)(" "+(0,n.zw)(a[o.value.person.civilStatus]["MALE"===o.value.person.gender?"male":"female"]),1)]),(0,t._)("li",null,[D,(0,t.Uk)(" "+(0,n.zw)(o.value.person.occupation),1)]),(0,t._)("li",null,[_,(0,t.Uk)(" "+(0,n.zw)(o.value.person.education),1)]),o.value.person.phone?((0,t.wg)(),(0,t.iD)("li",g,[L,(0,t.Uk)(" "+(0,n.zw)(o.value.person.phone),1)])):(0,t.kq)("",!0),o.value.person.mobile?((0,t.wg)(),(0,t.iD)("li",V,[h,(0,t.Uk)(" "+(0,n.zw)(o.value.person.mobile),1)])):(0,t.kq)("",!0),(0,t._)("li",null,[M,(0,t.Uk)(" "+(0,n.zw)(o.value.person.nationality),1)]),(0,t._)("li",null,[W,(0,t.Uk)(" "+(0,n.zw)(o.value.person.address),1)])]),o.value.person.photo?((0,t.wg)(),(0,t.iD)("figure",k,[(0,t._)("img",{src:`${(0,i.SU)(r.urlBase).replace(/\/api\//g,"")}/files/users/${o.value.person.photo}`,alt:o.value.person.firstName},null,8,x)])):(0,t.kq)("",!0)]),(0,t._)("div",P,[q,(0,t._)("ul",G,[(0,t._)("li",null,[B,(0,t.Uk)(),(0,t._)("strong",Z,(0,n.zw)(o.value.company.name),1)]),(0,t._)("li",null,[H,(0,t.Uk)(" "+(0,n.zw)((0,i.SU)(d.WU)(o.value.person.christeningDate)),1)]),(0,t._)("li",null,[F,(0,t.Uk)(" "+(0,n.zw)(o.value.person.baptismPastor),1)]),(0,t._)("li",null,[z,(0,t.Uk)(" "+(0,n.zw)((0,i.SU)(d.WU)(o.value.person.acceptanceDate)),1)]),(0,t._)("li",null,[Q,(0,t.Uk)(" "+(0,n.zw)((0,i.SU)(d.WU)(o.value.person.acceptanceLocalDate)),1)]),(0,t._)("li",null,[Y,(0,t.Uk)(" "+(0,n.zw)(o.value.person.origin),1)]),(0,t._)("li",null,[$,(0,t.Wm)(s,{square:"",dense:"",class:"q-my-none",color:a[o.value.type].color,"text-color":a[o.value.type].textColor,label:a[o.value.type].label},null,8,["color","text-color","label"])]),o.value.person.memberStatus?((0,t.wg)(),(0,t.iD)("li",j,[o.value.person.dischargeDate?((0,t.wg)(),(0,t.iD)("span",K,[J,(0,t.Uk)(" "+(0,n.zw)((0,i.SU)(d.WU)(o.value.person.dischargeDate))+" ",1),X])):((0,t.wg)(),(0,t.iD)("span",ee,ae)),(0,t.Wm)(s,{square:"",dense:"",class:"q-my-none",color:a[o.value.person.memberStatus].color,"text-color":a[o.value.person.memberStatus].textColor,label:a[o.value.person.memberStatus].label},null,8,["color","text-color","label"])])):(0,t.kq)("",!0)]),u.value.length?((0,t.wg)(),(0,t.iD)("h3",oe,"Cargos ocupados")):(0,t.kq)("",!0),(0,t._)("ul",te,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(u.value,(e=>((0,t.wg)(),(0,t.iD)("li",{key:e.id},[(0,t._)("strong",null,"- "+(0,n.zw)(e.position.description),1),(0,t.Uk)(),(0,t._)("em",null,(0,n.zw)(e.company.name),1),(0,t.Uk)(", "+(0,n.zw)(e.begin)+" - "+(0,n.zw)(e.end||"Actualidad"),1)])))),128))]),ne,(0,t._)("ul",ie,[(0,t._)("li",null,[ue,(0,t.Uk)(" "+(0,n.zw)(o.value.username),1)]),(0,t._)("li",null,[re,(0,t.Uk)(" "+(0,n.zw)(o.value.email),1)]),(0,t._)("li",null,[(0,t._)("strong",null,"Rol"+(0,n.zw)(o.value.roles.length>1?"es":"")+" asignado"+(0,n.zw)(o.value.roles.length>1?"s":"")+":",1),(0,t.Uk)(" "+(0,n.zw)(o.value.roles.map((e=>e.name)).join(", ")),1)]),(0,t._)("li",null,[se,(0,t.Wm)(s,{square:"",dense:"",class:"q-my-none",color:a[o.value.state].color,"text-color":a[o.value.state].textColor,label:a[o.value.state].label},null,8,["color","text-color","label"])])])])])])):(0,t.kq)("",!0)}}});var de=a(7030),Ae=a(6429),me=a(7518),pe=a.n(me);const ve=ce,Ie=ve;pe()(ce,"components",{QChip:de.Z,QTable:Ae.Z});var Ee=a(860),ye=a.n(Ee),Ne=function(e,l,a,o){function t(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,n){function i(e){try{r(o.next(e))}catch(l){n(l)}}function u(e){try{r(o["throw"](e))}catch(l){n(l)}}function r(e){e.done?a(e.value):t(e.value).then(i,u)}r((o=o.apply(e,l||[])).next())}))};const Re={key:0},Oe={key:0,class:"member-photo"},be=["src","alt"],we={class:"upload-photo-wrap"},Ce=(0,t._)("div",{id:"upload-photo"},null,-1),Se=[Ce],Ue=(0,t.aZ)({__name:"MemberPhoto",props:{id:null},setup(e){const l=e,a=(0,i.iH)(),o=(0,i.iH)(),s=(0,i.iH)(!1),c=(0,i.iH)(),d=e=>{const l=new FileReader;l.onload=function(e){s.value=!0,c.value.bind({url:e.target.result}).then((()=>{}))},l.readAsDataURL(e)};(0,t.YP)(o,(()=>{d(o.value)}));const A=()=>{c.value.result({type:"blob",size:"viewport"}).then((e=>{const a=new File([e],"photo.png"),o=new FormData;o.append("file",a),r.http.post(`users/${l.id}/photo`,o,!0,{"content-type":"multipart/form-data"}),document.getElementById("btn-photo").click()}))};return(0,t.bv)((()=>Ne(this,void 0,void 0,(function*(){a.value=yield r.http.get(`users/${l.id}`);const e=document.getElementById("upload-photo");c.value=new(ye())(e,{viewport:{width:380,height:380},enableExif:!0})})))),(e,l)=>{const c=(0,t.up)("q-icon"),d=(0,t.up)("q-toolbar-title"),m=(0,t.up)("q-btn"),p=(0,t.up)("q-toolbar"),v=(0,t.up)("q-file"),I=(0,t.up)("q-card-section"),E=(0,t.up)("q-card-actions"),y=(0,t.up)("q-card"),N=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(y,{class:"card-roles"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"photo_camera",size:"md"}),(0,t.Wm)(d,null,{default:(0,t.w5)((()=>{var e,l;return[(0,t.Uk)(" Foto de "),a.value?((0,t.wg)(),(0,t.iD)("span",Re,(0,n.zw)(null===(l=null===(e=a.value)||void 0===e?void 0:e.person)||void 0===l?void 0:l.firstName),1)):(0,t.kq)("",!0)]})),_:1}),(0,t.wy)((0,t.Wm)(m,{flat:"",round:"",dense:"",icon:"close"},null,512),[[N]])])),_:1}),(0,t.Wm)(I,null,{default:(0,t.w5)((()=>{var e,n,d,A;return[(0,t.wy)((0,t._)("div",null,[(null===(n=null===(e=a.value)||void 0===e?void 0:e.person)||void 0===n?void 0:n.photo)?((0,t.wg)(),(0,t.iD)("figure",Oe,[(0,t._)("img",{src:`${(0,i.SU)(r.urlBase).replace(/\/api\//g,"")}/files/users/${a.value.person.photo}`,alt:a.value.person.firstName},null,8,be)])):(0,t.kq)("",!0),(0,t.Wm)(v,{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),label:(null===(A=null===(d=a.value)||void 0===d?void 0:d.person)||void 0===A?void 0:A.photo)?"Selecciona una nueva foto":"Seleccione una foto",filled:""},{prepend:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"photo_camera",onClick:l[0]||(l[0]=(0,u.iM)((()=>{}),["stop","prevent"]))})])),_:1},8,["modelValue","label"])],512),[[u.F8,!s.value]]),(0,t.wy)((0,t._)("div",we,Se,512),[[u.F8,s.value]])]})),_:1}),(0,t.Wm)(E,{align:"right",class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(m,{label:"Cancelar",icon:"close",id:"btn-photo"},null,512),[[N]]),s.value?((0,t.wg)(),(0,t.j4)(m,{key:0,label:"Cambiar",icon:"add_a_photo",onClick:l[2]||(l[2]=e=>s.value=!1)})):(0,t.kq)("",!0),s.value?((0,t.wg)(),(0,t.j4)(m,{key:1,label:"Guardar",color:"primary",icon:"check",onClick:A})):(0,t.kq)("",!0)])),_:1})])),_:1})}}});var Te=a(151),fe=a(9570),De=a(4554),_e=a(3747),ge=a(2165),Le=a(5589),Ve=a(1052),he=a(9367),Me=a(677);const We=Ue,ke=We;pe()(Ue,"components",{QCard:Te.Z,QToolbar:fe.Z,QIcon:De.Z,QToolbarTitle:_e.Z,QBtn:ge.Z,QCardSection:Le.Z,QFile:Ve.Z,QCardActions:he.Z}),pe()(Ue,"directives",{ClosePopup:Me.Z});var xe=a(8468),Pe=function(e,l,a,o){function t(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,n){function i(e){try{r(o.next(e))}catch(l){n(l)}}function u(e){try{r(o["throw"](e))}catch(l){n(l)}}function r(e){e.done?a(e.value):t(e.value).then(i,u)}r((o=o.apply(e,l||[])).next())}))};const qe={class:"row"},Ge={class:"col-xs-12 col-sm-11"},Be={class:"row q-col-gutter-sm"},Ze={key:0,class:"col-xs-12 col-sm-3"},He={class:"col-xs-12 col-sm-2"},Fe={class:"col-xs-12 col-sm-2"},ze={class:"row"},Qe={class:"col-xs-12 col-sm-3"},Ye={class:"col-xs-12 col-sm-6"},$e={class:"col-xs-12 col-sm-1 text-right"},je=(0,t._)("br",null,null,-1),Ke={class:"text-grey-7"},Je=(0,t.aZ)({__name:"Positions",props:{user:null},setup(e){const l=e,a=(0,c.o)(),o=[{label:"Eliminar",align:"center"},{label:"Cargo",align:"left",name:"position.description",sortable:!0},{label:"Lugar",align:"left",name:"company.name",sortable:!0},{label:"Gestión",align:"left",name:"positionuser.begin",sortable:!0},{label:"Remunerado",align:"left",name:"positionuser.remuneration",sortable:!0},{label:"Trabajo tiempo completo",align:"left",name:"positionuser.fulltime",sortable:!0}],u=[{value:"ASSOCIATION",label:"ASOCIACION"},{value:"CHURCH",label:"IGLESIA"}],d={ACTIVE:{color:"positive",textColor:"white",label:"VIGENTE"},INACTIVE:{color:"warning",textColor:"white",label:"NO VIGENTE"},MINISTERIAL:{color:"warning",textColor:"white",label:"MINISTERIO"},OFFICIAL:{color:"warning",textColor:"white",label:"OFICIAL"}},A=(0,i.iH)([]),v=(0,i.iH)({}),I=(0,i.iH)(),E=(0,i.iH)(),y=()=>Pe(this,void 0,void 0,(function*(){const e=yield r.http.get(`positions?id_company=${a.state.user.user.company.id_association}`);A.value=e.rows})),N=e=>Pe(this,void 0,void 0,(function*(){v.value=e?yield r.http.get(`positionsuser/${e}`):{remuneration:!1,fulltime:!1}})),R=e=>Pe(this,void 0,void 0,(function*(){var o;v.value.id_user=l.user.id,"CHURCH"!==I.value&&(v.value.id_company=a.state.user.user.company.id_association),(null===(o=v.value)||void 0===o?void 0:o.id)?(yield r.http.put(`positionsuser/${v.value.id}`,v.value),s.message.success("¡Cargo actualizado!")):(yield r.http.post("positionsuser",v.value),s.message.success("¡Cargo creado!")),e.update(),yield N()}));return(0,t.bv)((()=>Pe(this,void 0,void 0,(function*(){const e=yield r.http.get("companies");E.value=e.rows.filter((e=>["CHURCH","GROUP"].includes(e.type))),yield y(),yield N()})))),(e,a)=>{const r=(0,t.up)("q-select"),s=(0,t.up)("q-item-label"),c=(0,t.up)("q-item-section"),y=(0,t.up)("q-item"),N=(0,t.up)("q-input"),O=(0,t.up)("q-checkbox"),b=(0,t.up)("q-btn"),w=(0,t.up)("q-form"),C=(0,t.up)("q-td"),S=(0,t.up)("q-tr");return(0,t.wg)(),(0,t.j4)(p.Z,{columns:o,url:`positionsuser?id_user=${l.user.id}`,buttonsHidden:!0,order:"-positionuser.begin"},{formInline:(0,t.w5)((e=>[(0,t.Wm)(w,{onSubmit:l=>R(e),ref:"myForm"},{default:(0,t.w5)((()=>[(0,t._)("div",qe,[(0,t._)("div",Ge,[(0,t._)("div",Be,[(0,t._)("div",{class:(0,n.C_)(["col-xs-12",{"col-sm-2":"CHURCH"===I.value,"col-sm-3":"CHURCH"!==I.value}])},[(0,t.Wm)(r,{modelValue:I.value,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value=e),options:u,filled:"",dense:"",label:"Nivel","emit-value":"","map-options":"",rules:[(0,i.SU)(xe.Z).required]},null,8,["modelValue","rules"])],2),"CHURCH"===I.value?((0,t.wg)(),(0,t.iD)("div",Ze,[(0,t.Wm)(r,{modelValue:v.value.id_company,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.id_company=e),options:E.value,filled:"",dense:"",label:"Iglesia","emit-value":"","map-options":"","option-value":"id","option-label":"name",rules:[(0,i.SU)(xe.Z).required]},null,8,["modelValue","options","rules"])])):(0,t.kq)("",!0),(0,t._)("div",{class:(0,n.C_)(["col-xs-12",{"col-sm-3":"CHURCH"===I.value,"col-sm-5":"CHURCH"!==I.value}])},[(0,t.Wm)(r,{modelValue:v.value.id_position,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value.id_position=e),options:A.value.filter((e=>e.level===I.value)),filled:"",dense:"",label:"Cargo","option-value":"id","option-label":"description","emit-value":"","map-options":"",rules:[(0,i.SU)(xe.Z).required]},{option:(0,t.w5)((e=>[(0,t.Wm)(y,(0,n.vs)((0,t.F4)(e.itemProps)),{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.opt.description),1)])),_:2},1024),(0,t.Wm)(s,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)("OFFICIAL"===e.opt.type?"Oficial":"Ministerio")+" - "+(0,n.zw)("CHURCH"===e.opt.level?"Iglesia local":"Asociación"),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","rules"])],2),(0,t._)("div",He,[(0,t.Wm)(N,{modelValue:v.value.begin,"onUpdate:modelValue":a[3]||(a[3]=e=>v.value.begin=e),filled:"",dense:"",label:"Desde",mask:"####",hint:"AAAA",rules:[(0,i.SU)(xe.Z).required]},null,8,["modelValue","rules"])]),(0,t._)("div",Fe,[(0,t.Wm)(N,{modelValue:v.value.end,"onUpdate:modelValue":a[4]||(a[4]=e=>v.value.end=e),filled:"",dense:"",label:"Hasta",mask:"####",hint:"AAAA",rules:[]},null,8,["modelValue"])])]),(0,t._)("div",ze,[(0,t._)("div",Qe,[(0,t.Wm)(O,{modelValue:v.value.remuneration,"onUpdate:modelValue":a[5]||(a[5]=e=>v.value.remuneration=e),label:"Recibe remuneración"},null,8,["modelValue"])]),(0,t._)("div",Ye,[(0,t.Wm)(O,{modelValue:v.value.fulltime,"onUpdate:modelValue":a[6]||(a[6]=e=>v.value.fulltime=e),label:"Trabaja tiempo completo"},null,8,["modelValue"])])])]),(0,t._)("div",$e,[(0,t.Wm)(b,{icon:"add",color:"positive",round:"",size:"16px",type:"submit"})])])])),_:2},1032,["onSubmit"])])),row:(0,t.w5)((e=>[(0,t.Wm)(S,{class:(0,n.C_)({selected:e.row.interest})},{default:(0,t.w5)((()=>[(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(b,{class:"q-pa-xs",flat:"",round:"",color:"negative",icon:"delete",onClick:l=>(0,i.SU)(m.w)(e.update,`positionsuser/${e.row.id}`)},null,8,["onClick"])])),_:2},1024),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>{var l,a;return[(0,t.Uk)((0,n.zw)(null===(l=e.row.position)||void 0===l?void 0:l.description)+" ",1),je,(0,t._)("span",Ke,(0,n.zw)(d[null===(a=e.row.position)||void 0===a?void 0:a.type].label),1)]})),_:2},1024),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>{var l;return[(0,t.Uk)((0,n.zw)(null===(l=e.row.company)||void 0===l?void 0:l.name),1)]})),_:2},1024),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.row.begin===e.row.end?e.row.begin:`${e.row.begin} - ${e.row.end||"Actualidad"}`),1)])),_:2},1024),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.row.remuneration?"SI":"NO"),1)])),_:2},1024),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.row.fulltime?"SI":"NO"),1)])),_:2},1024)])),_:2},1032,["class"])])),_:1},8,["url"])}}});var Xe=a(8689),el=a(2448),ll=a(3414),al=a(2035),ol=a(2350),tl=a(4689),nl=a(5735),il=a(8186),ul=a(3884);const rl=Je,sl=rl;pe()(Je,"components",{QForm:Xe.Z,QSelect:el.Z,QItem:ll.Z,QItemSection:al.Z,QItemLabel:ol.Z,QInput:tl.Z,QCheckbox:nl.Z,QBtn:ge.Z,QTr:il.Z,QTd:ul.Z,QChip:de.Z});const cl=[{value:"NINGUNO",label:"NINGUNO"},{value:"NO DETERMINADO",label:"NO DETERMINADO"},{value:"ADVENTISTA",label:"ADVENTISTA"},{value:"BAUTISTA",label:"BAUTISTA"},{value:"CATÓLICO",label:"CATÓLICO"},{value:"DOMINICAL",label:"DOMINICAL"},{value:"ISRAELITA",label:"ISRAELITA"},{value:"MORMON",label:"MORMON"},{value:"REFORMA",label:"REFORMA"},{value:"TESTIGO DE JEHOVÁ",label:"TESTIGO DE JEHOVÁ"},{value:"SMI",label:"SMI"},{value:"OTROS",label:"OTROS"}],dl=[{value:"NINGUNO",label:"NINGUNO"},{value:"NO DETERMINADO",label:"NO DETERMINADO"},{value:"SIN INSTRUCCION",label:"SIN INSTRUCCION"},{value:"EDUCACIÓN INICIAL",label:"EDUCACIÓN INICIAL"},{value:"PRIMARIA COMPLETA",label:"PRIMARIA COMPLETA"},{value:"PRIMARIA INCOMPLETA",label:"PRIMARIA INCOMPLETA"},{value:"SECUNDARIA COMPLETA",label:"SECUNDARIA COMPLETA"},{value:"SECUNDARIA INCOMPLETA",label:"SECUNDARIA INCOMPLETA"},{value:"SUPERIOR INCOMPLETA",label:"SUPERIOR INCOMPLETA"},{value:"SUPERIOR TÉCNICO",label:"SUPERIOR TÉCNICO"},{value:"SUPERIOR UNIVERSITARIO",label:"SUPERIOR UNIVERSITARIO"}],Al=[{value:"ABOGADO",label:"ABOGADO"},{value:"AGRICULTOR",label:"AGRICULTOR"},{value:"AGRONOMO",label:"AGRONOMO"},{value:"ALBAÑIL",label:"ALBAÑIL"},{value:"AMA DE CASA",label:"AMA DE CASA"},{value:"ARTESANO",label:"ARTESANO"},{value:"CAMPESINO",label:"CAMPESINO"},{value:"CARPINTERO",label:"CARPINTERO"},{value:"CERRAJERO",label:"CERRAJERO"},{value:"CHOFER",label:"CHOFER"},{value:"COLPORTOR",label:"COLPORTOR"},{value:"COMERCIANTE",label:"COMERCIANTE"},{value:"CONTADOR",label:"CONTADOR"},{value:"DESOCUPADO",label:"DESOCUPADO"},{value:"EMPLEADO",label:"EMPLEADO"},{value:"EMPRESARIO",label:"EMPRESARIO"},{value:"ENFERMERA",label:"ENFERMERA"},{value:"ESTUDIANTE",label:"ESTUDIANTE"},{value:"EVANISTA",label:"EVANISTA"},{value:"FISIOTERAPIA",label:"FISIOTERAPIA"},{value:"INDEPENDIENTE",label:"INDEPENDIENTE"},{value:"INGENIERO",label:"INGENIERO"},{value:"MASOTERAPIA",label:"MASOTERAPIA"},{value:"MECÁNICO",label:"MECÁNICO"},{value:"MEDICO",label:"MEDICO"},{value:"MODISTA",label:"MODISTA"},{value:"NATURISTA",label:"NATURISTA"},{value:"NO DETERMINADO",label:"NO DETERMINADO"},{value:"NUTRICIONISTA",label:"NUTRICIONISTA"},{value:"OBRERO MISIONERO",label:"OBRERO MISIONERO"},{value:"ODONTÓLOGO",label:"ODONTÓLOGO"},{value:"OTRO",label:"OTRO"},{value:"PANADERO",label:"PANADERO"},{value:"PASTOR",label:"PASTOR"},{value:"PELUQUERO",label:"PELUQUERO"},{value:"PERIODISTA",label:"PERIODISTA"},{value:"PROFESOR",label:"PROFESOR"},{value:"PROFESIONAL",label:"PROFESIONAL"},{value:"SASTRE",label:"SASTRE"},{value:"ZAPATERO",label:"ZAPATERO"}],ml=[{value:"SINGLE",label:"SOLTERO/A"},{value:"MARRIED",label:"CASADO/A"},{value:"DIVORCED",label:"DIVORCIADO/A"},{value:"WIDOW",label:"VIUDO/A"}],pl=[{value:"NI",label:"CÉDULA DE IDENTIDAD"},{value:"PASSPORT",label:"PASAPORTE"},{value:"OTHER",label:"OTRO"}],vl=[{value:"BAPTIZED",label:"BAUTIZADO"},{value:"RECEPTION",label:"RECIBIMIENTO"},{value:"TRANSFER",label:"TRANSFERENCIA"},{value:"EXCLUSION",label:"EXCLUSION"},{value:"RESIGNATION",label:"RENUNCIA"},{value:"DEATH",label:"FALLECIDO"}],Il=[{value:"MEMBER",label:"MIEMBRO"},{value:"SYMPATHIZER",label:"MIEMBRO DE ESCUELA SABÁTICA"},{value:"VISIT",label:"VISITA"}];var El=a(5751),yl=function(e,l,a,o){function t(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,n){function i(e){try{r(o.next(e))}catch(l){n(l)}}function u(e){try{r(o["throw"](e))}catch(l){n(l)}}function r(e){e.done?a(e.value):t(e.value).then(i,u)}r((o=o.apply(e,l||[])).next())}))};const Nl={class:"container"},Rl={class:"treasury-title"},Ol=(0,t._)("div",{class:"text-h6 text-warning q-mb-md"},"Datos personales",-1),bl={class:"row q-col-gutter-sm"},wl={class:"col-xs-12 col-md-4"},Cl={class:"col-xs-12 col-md-4"},Sl={class:"col-xs-12 col-md-4"},Ul={class:"col-xs-12 col-md-3"},Tl={class:"col-xs-12 col-md-3"},fl={class:"col-xs-12 col-md-3"},Dl={class:"col-xs-12 col-md-3"},_l={class:"row items-center justify-end"},gl={class:"col-xs-12 col-md-3 q-pt-md"},Ll={class:"col-xs-12 col-md-3"},Vl={class:"col-xs-12 col-md-3"},hl={class:"col-xs-12 col-md-3"},Ml={class:"col-xs-12 col-md-4"},Wl={class:"col-xs-12 col-md-3"},kl={class:"col-xs-12 col-md-5"},xl=(0,t._)("div",{class:"text-h6 text-warning q-mb-md"},"Datos de afiliación",-1),Pl={class:"row q-col-gutter-sm"},ql={class:"col-xs-12 col-md-4"},Gl={class:"col-xs-12 col-md-4"},Bl={class:"col-xs-12 col-md-4"},Zl={class:"col-xs-12 col-md-3"},Hl={class:"col-xs-12 col-md-3"},Fl={class:"row items-center justify-end"},zl={class:"col-xs-12 col-md-3"},Ql={class:"col-xs-12 col-md-3"},Yl={class:"col-xs-12 col-md-3"},$l={class:"col-xs-12 col-md-3"},jl={class:"row items-center justify-end"},Kl={class:"col-xs-12 col-md-3"},Jl={class:"row items-center justify-end"},Xl={class:"col-xs-12 col-md-3"},ea={class:"row items-center justify-end"},la={class:"col-xs-12 col-md-12"},aa=(0,t._)("div",{class:"text-h6 text-warning q-pb-md"},"Cargos ocupados en la Iglesia",-1),oa=(0,t._)("div",{class:"text-h6 text-warning"},"Datos de usuario",-1),ta={class:"row q-col-gutter-sm q-mb-md"},na={class:"col-xs-12 col-md-4"},ia={key:0,class:"col-xs-12 col-md-4"},ua={class:"col-xs-12 col-md-4"},ra={key:1,class:"col-xs-12 col-md-4"},sa={key:0},ca=(0,t.aZ)({__name:"Member",setup(e){const l="users",a=(0,c.o)(),v=![o.SECRETARY,o.TREASURER,o.WORKER].includes(a.state.user.role.slug),I=[{label:"Acciones",align:"center"},{label:"Nombre completo",align:"left",name:"person.fullname",sortable:!0},{label:v?"Iglesia":"Fecha de nacimiento",align:"left",name:v?"company.id":"person.birthday",sortable:!0},{label:"Tipo/estado de membresia",align:"left",name:"user.type",sortable:!0},{label:"Estado del usuario",align:"right",name:"user.state",sortable:!0}],E=(0,i.iH)([{label:"Iglesia/Grupo",name:"id_company",type:"select",options:[]},{label:"Buscar por nombre completo",name:"fullname",type:"input"},{label:"Buscar por nombre de usuario",name:"username",type:"input"},{label:"Tipo de membresía",name:"type",type:"select",options:Il},{label:"Estado de la membresía",name:"memberStatus",type:"select",options:[{label:"TODOS LOS MIEMBROS ACTIVOS",value:"ALL_ACTIVE"},{label:"BAUTIZADO",value:"BAPTIZED"},{label:"RECIBIMIENTO",value:"RECEPTION"},{label:"TRANSFERENCIA",value:"TRANSFER"},{label:"TODOS LOS MIEMBROS INACTIVOS",value:"ALL_INACTIVE"},{label:"EXCLUSION",value:"EXCLUSION"},{label:"RENUNCIA",value:"RESIGNATION"},{label:"MUERTE",value:"DEATH"}]},{label:"Ocupación",name:"occupation",type:"select",options:Al},{label:"Estado del usuario",name:"state",type:"select",options:[{label:"ACTIVO",value:"ACTIVE"},{label:"INACTIVO",value:"INACTIVE"}]}]);v||E.value.shift();const y={MEMBER:{color:"positive",textColor:"white",label:"MIEMBRO"},SYMPATHIZER:{color:"info",textColor:"white",label:"MIEMBRO E. SABÁTICA"},VISIT:{color:"warning",textColor:"white",label:"VISITA"},ACTIVE:{color:"positive",textColor:"white",label:"ACTIVO"},INACTIVE:{color:"warning",textColor:"white",label:"INACTIVO"},BAPTIZED:{color:"positive",textColor:"white",label:"BAUTIZADO"},RECEPTION:{color:"positive",textColor:"white",label:"RECIBIMIENTO"},TRANSFER:{color:"positive",textColor:"white",label:"TRANSFERENCIA"},EXCLUSION:{color:"negative",textColor:"white",label:"EXCLUSION"},RESIGNATION:{color:"negative",textColor:"white",label:"RENUNCIA"},DEATH:{color:"negative",textColor:"white",label:"FALLECIDO"}},N=(0,i.iH)("personal"),R=A(),O=(0,i.iH)(R),b=(0,i.iH)(),w=(0,i.iH)(),C=(0,i.iH)(),S=(0,i.iH)(),U=(0,i.iH)(),T=(0,i.iH)(!1),f=(0,i.iH)(null),D=(0,i.iH)(!0),_=(0,i.iH)(!1),g=(0,i.iH)(!0),L=(e,t,n="personal")=>yl(this,void 0,void 0,(function*(){N.value=n,t?(b.value=yield r.http.get(`${l}/${t}`),b.value.person.birthday=(0,d.WU)(b.value.person.birthday),b.value.person.christeningDate=(0,d.WU)(b.value.person.christeningDate),b.value.person.acceptanceDate=(0,d.WU)(b.value.person.acceptanceDate),b.value.person.acceptanceLocalDate=(0,d.WU)(b.value.person.acceptanceLocalDate),b.value.person.dischargeDate=(0,d.WU)(b.value.person.dischargeDate)):(D.value=!1,b.value={username:"",person:{firstName:"",lastName:"",nationality:"BOLIVIANA",occupation:"NO DETERMINADO",education:"NO DETERMINADO",origin:"NO DETERMINADO"},company:{name:""}},[o.SECRETARY,o.TREASURER,o.WORKER].includes(a.state.user.role.slug)&&(b.value.company.id=a.state.user.user.company.id)),e()})),V=e=>yl(this,void 0,void 0,(function*(){var a;return b.value.person.firstName&&b.value.person.lastName?b.value.company.id?b.value.username&&(b.value.id||b.value.password)?(b.value.id_company=b.value.company.id,b.value.person.fullname=`${b.value.person.firstName} ${b.value.person.lastName} ${b.value.person.secondLastName?b.value.person.secondLastName:""}`,b.value.person.birthday=(0,d.Fv)(b.value.person.birthday),b.value.person.christeningDate=(0,d.Fv)(b.value.person.christeningDate),b.value.person.acceptanceDate=(0,d.Fv)(b.value.person.acceptanceDate),b.value.person.acceptanceLocalDate=(0,d.Fv)(b.value.person.acceptanceLocalDate),b.value.person.dischargeDate=(0,d.Fv)(b.value.person.dischargeDate),(null===(a=b.value)||void 0===a?void 0:a.id)?(yield r.http.put(`${l}/${b.value.id}`,b.value),s.message.success("¡Registro actualizado!")):(b.value.state="INACTIVE",yield r.http.post(l,b.value),s.message.success("¡Registro creado exitósamente!")),e.update(),void e.close()):(N.value="usuario",void setTimeout((()=>{f.value.validate()}),300)):(N.value="afiliacion",void setTimeout((()=>{f.value.validate()}),300)):(N.value="personal",void setTimeout((()=>{f.value.validate()}),300))})),h=e=>yl(this,void 0,void 0,(function*(){if(0===e.length)return s.message.warning("Debe seleccionar por lo menos un registro para poder imprimir.");const l=yield r.http.post("users/print",{ids:e.map((e=>e.id))});(0,El.$)(l,`kardex-${Date.now()}.pdf`)})),M=()=>yl(this,void 0,void 0,(function*(){const e=yield r.http.post("users/print",{ids:[]});(0,El.$)(e,`kardex-${Date.now()}.pdf`)})),W=e=>{_.value=!1,w.value=0,(0,t.Y3)((()=>{_.value=!0,w.value=e.id}))},k=new Date,x=e=>e<=`${k.getFullYear()}/${k.getMonth()+1}/${k.getDate()}`,P=()=>{var e;const l=(null===(e=b.value)||void 0===e?void 0:e.id)?{personal:"afiliacion",afiliacion:"cargos",cargos:"usuario"}:{personal:"afiliacion",afiliacion:"usuario"};N.value=l[N.value]},q=()=>{var e;const l=(null===(e=b.value)||void 0===e?void 0:e.id)?{afiliacion:"personal",cargos:"afiliacion",usuario:"cargos"}:{afiliacion:"personal",usuario:"afiliacion"};N.value=l[N.value]},G=(e,l)=>{l(""!==e?()=>{const l=e.toLowerCase();O.value=R.filter((e=>e.nationality.toLowerCase().indexOf(l)>-1))}:()=>O.value=R)},B=(e,l)=>{l(""!==e?()=>{const l=e.toLowerCase();U.value=C.value.filter((e=>e.name.toLowerCase().indexOf(l)>-1))}:()=>U.value=C.value)},Z=()=>{var e,l;b.value.username=((null===(e=b.value.person.firstName)||void 0===e?void 0:e.length)?b.value.person.firstName.charAt(0).toLowerCase():"")+(null===(l=b.value.person.lastName)||void 0===l?void 0:l.toLowerCase())},H=()=>{b.value.password=b.value.person.documentNumber};return(0,t.bv)((()=>yl(this,void 0,void 0,(function*(){const e=yield r.http.get("companies");C.value=e.rows.filter((e=>["CHURCH","GROUP"].includes(e.type))),U.value=e.rows.filter((e=>["CHURCH","GROUP"].includes(e.type))),[o.SECRETARY,o.TREASURER,o.WORKER].includes(a.state.user.role.slug)||(E.value[0].options=C.value.map((e=>({label:e.name,value:e.id,type:e.type})))),S.value=(yield r.http.get("roles")).rows})))),(e,a)=>{const o=(0,t.up)("q-btn"),r=(0,t.up)("q-tooltip"),s=(0,t.up)("q-item-label"),c=(0,t.up)("q-item-section"),A=(0,t.up)("q-item"),R=(0,t.up)("q-list"),C=(0,t.up)("q-btn-dropdown"),k=(0,t.up)("q-icon"),F=(0,t.up)("q-toolbar-title"),z=(0,t.up)("q-toolbar"),Q=(0,t.up)("q-tab"),Y=(0,t.up)("q-tabs"),$=(0,t.up)("q-separator"),j=(0,t.up)("q-input"),K=(0,t.up)("q-select"),J=(0,t.up)("q-date"),X=(0,t.up)("q-popup-proxy"),ee=(0,t.up)("q-radio"),le=(0,t.up)("q-tab-panel"),ae=(0,t.up)("q-tab-panels"),oe=(0,t.up)("q-card-actions"),te=(0,t.up)("q-form"),ne=(0,t.up)("q-card"),ie=(0,t.up)("q-checkbox"),ue=(0,t.up)("q-td"),re=(0,t.up)("q-toggle"),se=(0,t.up)("q-chip"),ce=(0,t.up)("q-tr"),de=(0,t.up)("q-dialog"),Ae=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)("div",Nl,[(0,t._)("h2",Rl,[(0,t.Wm)(o,{icon:"arrow_back",round:"",flat:"",onClick:a[0]||(a[0]=l=>e.$router.push("/secretary"))}),(0,t.Uk)(" Miembros y usuarios ")]),(0,t.Wm)(p.Z,{columns:I,filters:E.value,"open-filter":!0,url:l,selection:g.value,"label-selection":"person.fullname"},{buttons:(0,t.w5)((e=>[(0,t.Wm)(o,{class:"q-ml-none q-mr-xs",icon:"add","no-caps":"",color:"primary",onClick:l=>L(e.open)},{default:(0,t.w5)((()=>[(0,t.Uk)(" Agregar "),(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Agregar registro")])),_:1})])),_:2},1032,["onClick"]),(0,t.Wm)(C,{icon:"print","no-caps":"",label:"Imprimir",class:"q-ml-none q-mr-xs",padding:"6px 7px 6px 9px"},{default:(0,t.w5)((()=>[(0,t.Wm)(R,null,{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(A,{clickable:"",onClick:l=>h(e.getSelected())},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Imprimir seleccionados")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Ae]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(A,{clickable:"",onClick:M},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Imprimir todo")])),_:1})])),_:1})])),_:1})),[[Ae]])])),_:2},1024)])),_:2},1024)])),form:(0,t.w5)((e=>[(0,t.Wm)(ne,{class:"modal-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"people",size:"md"}),(0,t.Wm)(F,null,{default:(0,t.w5)((()=>{var e;return[(0,t.Uk)((0,n.zw)(b.value.id?`Editar datos de ${null===(e=b.value.person)||void 0===e?void 0:e.firstName}`:"Agregar nuevo"),1)]})),_:1}),(0,t.Wm)(o,{flat:"",round:"",dense:"",icon:"close",onClick:l=>e.close()},null,8,["onClick"])])),_:2},1024),(0,t.Wm)(Y,{modelValue:N.value,"onUpdate:modelValue":a[1]||(a[1]=e=>N.value=e),"inline-label":"","no-caps":"",dense:"",align:"justify","indicator-color":"warning",class:"bg-secondary text-white",breakpoint:0},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{name:"personal",icon:"person",label:"Datos personales"}),(0,t.Wm)(Q,{name:"afiliacion",icon:"manage_accounts",label:"Datos de afiliación"}),b.value.id?((0,t.wg)(),(0,t.j4)(Q,{key:0,name:"cargos",icon:"badge",label:"Cargos"})):(0,t.kq)("",!0),(0,t.Wm)(Q,{name:"usuario",icon:"contact_page",label:"Datos de usuario"})])),_:1},8,["modelValue"]),(0,t.Wm)($),(0,t.Wm)(te,{onSubmit:l=>V(e),ref_key:"myForm",ref:f},{default:(0,t.w5)((()=>[(0,t.Wm)(ae,{modelValue:N.value,"onUpdate:modelValue":a[39]||(a[39]=e=>N.value=e),animated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(le,{name:"personal"},{default:(0,t.w5)((()=>[Ol,(0,t._)("div",bl,[(0,t._)("div",wl,[(0,t.Wm)(j,{filled:"",label:"Nombre(s)",modelValue:b.value.person.firstName,"onUpdate:modelValue":a[2]||(a[2]=e=>b.value.person.firstName=e),rules:[(0,i.SU)(xe.Z).required],onKeyup:Z},null,8,["modelValue","rules"])]),(0,t._)("div",Cl,[(0,t.Wm)(j,{filled:"",label:"Primer apellido",modelValue:b.value.person.lastName,"onUpdate:modelValue":a[3]||(a[3]=e=>b.value.person.lastName=e),rules:[(0,i.SU)(xe.Z).required],onKeyup:Z},null,8,["modelValue","rules"])]),(0,t._)("div",Sl,[(0,t.Wm)(j,{filled:"",label:"Segundo apellido",modelValue:b.value.person.secondLastName,"onUpdate:modelValue":a[4]||(a[4]=e=>b.value.person.secondLastName=e)},null,8,["modelValue"])]),(0,t._)("div",Ul,[(0,t.Wm)(K,{filled:"",modelValue:b.value.person.documentType,"onUpdate:modelValue":a[5]||(a[5]=e=>b.value.person.documentType=e),options:(0,i.SU)(pl),label:"Tipo de documento","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,t._)("div",Tl,[(0,t.Wm)(j,{filled:"",label:"Número de documento",modelValue:b.value.person.documentNumber,"onUpdate:modelValue":a[6]||(a[6]=e=>b.value.person.documentNumber=e),onKeyup:H},null,8,["modelValue"])]),(0,t._)("div",fl,[(0,t.Wm)(j,{filled:"",label:"Lugar de nacimiento",modelValue:b.value.person.birthplaceCountry,"onUpdate:modelValue":a[7]||(a[7]=e=>b.value.person.birthplaceCountry=e)},null,8,["modelValue"])]),(0,t._)("div",Dl,[(0,t.Wm)(j,{filled:"",label:"Fecha de nacimiento",modelValue:b.value.person.birthday,"onUpdate:modelValue":a[9]||(a[9]=e=>b.value.person.birthday=e),rules:[(0,i.SU)(xe.Z).date]},{append:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(X,{ref:"birthdayDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{modelValue:b.value.person.birthday,"onUpdate:modelValue":a[8]||(a[8]=e=>b.value.person.birthday=e),minimal:"","default-view":"Years","default-year-month":"1980/01",mask:"DD/MM/YYYY",options:x},{default:(0,t.w5)((()=>[(0,t._)("div",_l,[(0,t.wy)((0,t.Wm)(o,{label:"Cerrar",color:"primary",flat:""},null,512),[[Ae]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t._)("div",gl,[(0,t.Wm)(ee,{modelValue:b.value.person.gender,"onUpdate:modelValue":a[10]||(a[10]=e=>b.value.person.gender=e),val:"MALE",label:"Hombre"},null,8,["modelValue"]),(0,t.Wm)(ee,{modelValue:b.value.person.gender,"onUpdate:modelValue":a[11]||(a[11]=e=>b.value.person.gender=e),val:"FEMALE",label:"Mujer"},null,8,["modelValue"])]),(0,t._)("div",Ll,[(0,t.Wm)(K,{filled:"",modelValue:b.value.person.civilStatus,"onUpdate:modelValue":a[12]||(a[12]=e=>b.value.person.civilStatus=e),options:(0,i.SU)(ml),label:"Estado civil","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,t._)("div",Vl,[(0,t.Wm)(K,{filled:"",label:"Nacionalidad",modelValue:b.value.person.nationality,"onUpdate:modelValue":a[13]||(a[13]=e=>b.value.person.nationality=e),options:O.value,"option-value":"nationality","option-label":"nationality","use-input":"","input-debounce":"0",onFilter:G,"emit-value":"","map-options":""},{"no-option":(0,t.w5)((()=>[(0,t.Wm)(A,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,{class:"text-grey"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Sin resultados ")])),_:1})])),_:1})])),_:1},8,["modelValue","options"])]),(0,t._)("div",hl,[(0,t.Wm)(K,{filled:"",modelValue:b.value.person.occupation,"onUpdate:modelValue":a[14]||(a[14]=e=>b.value.person.occupation=e),options:(0,i.SU)(Al),label:"Ocupación","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,t._)("div",Ml,[(0,t.Wm)(K,{filled:"",modelValue:b.value.person.education,"onUpdate:modelValue":a[15]||(a[15]=e=>b.value.person.education=e),options:(0,i.SU)(dl),label:"Educación","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,t._)("div",Wl,[(0,t.Wm)(j,{filled:"",label:"Teléfono(s)",modelValue:b.value.person.phone,"onUpdate:modelValue":a[16]||(a[16]=e=>b.value.person.phone=e)},null,8,["modelValue"])]),(0,t._)("div",kl,[(0,t.Wm)(j,{filled:"",label:"Dirección",modelValue:b.value.person.address,"onUpdate:modelValue":a[17]||(a[17]=e=>b.value.person.address=e)},null,8,["modelValue"])])])])),_:1}),(0,t.Wm)(le,{name:"afiliacion"},{default:(0,t.w5)((()=>[xl,(0,t._)("div",Pl,[(0,t._)("div",ql,[(0,t.Wm)(K,{filled:"",modelValue:b.value.company.id,"onUpdate:modelValue":a[18]||(a[18]=e=>b.value.company.id=e),options:U.value,label:"Iglesia actual","option-value":"id","option-label":"name","emit-value":"","map-options":"",rules:[(0,i.SU)(xe.Z).required],"use-input":"","input-debounce":"0",disable:!v,onFilter:B},null,8,["modelValue","options","rules","disable"])]),(0,t._)("div",Gl,[(0,t.Wm)(K,{filled:"",modelValue:b.value.type,"onUpdate:modelValue":a[19]||(a[19]=e=>b.value.type=e),options:(0,i.SU)(Il),label:"Tipo de membresía","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,t._)("div",Bl,[(0,t.Wm)(K,{filled:"",modelValue:b.value.person.memberStatus,"onUpdate:modelValue":a[20]||(a[20]=e=>b.value.person.memberStatus=e),options:(0,i.SU)(vl),clearable:"",label:"Estado de la membresía","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,t._)("div",Zl,[(0,t.Wm)(K,{filled:"",modelValue:b.value.person.origin,"onUpdate:modelValue":a[21]||(a[21]=e=>b.value.person.origin=e),options:(0,i.SU)(cl),label:"Procedencia religiosa","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,t._)("div",Hl,[(0,t.Wm)(j,{filled:"",label:"Fecha de bautizmo",modelValue:b.value.person.christeningDate,"onUpdate:modelValue":a[23]||(a[23]=e=>b.value.person.christeningDate=e),rules:[(0,i.SU)(xe.Z).date]},{append:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(X,{ref:"christeningDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{modelValue:b.value.person.christeningDate,"onUpdate:modelValue":a[22]||(a[22]=e=>b.value.person.christeningDate=e),minimal:"",mask:"DD/MM/YYYY",options:x},{default:(0,t.w5)((()=>[(0,t._)("div",Fl,[(0,t.wy)((0,t.Wm)(o,{label:"Cerrar",color:"primary",flat:""},null,512),[[Ae]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t._)("div",zl,[(0,t.Wm)(j,{filled:"",label:"Bautizado por",modelValue:b.value.person.baptismPastor,"onUpdate:modelValue":a[24]||(a[24]=e=>b.value.person.baptismPastor=e)},null,8,["modelValue"])]),(0,t._)("div",Ql,[(0,t.Wm)(j,{filled:"",label:"Texto bíblico",modelValue:b.value.person.biblicalText,"onUpdate:modelValue":a[25]||(a[25]=e=>b.value.person.biblicalText=e)},null,8,["modelValue"])]),(0,t._)("div",Yl,[(0,t.Wm)(j,{filled:"",label:"Lugar de bautizmo",modelValue:b.value.person.christeningPlace,"onUpdate:modelValue":a[26]||(a[26]=e=>b.value.person.christeningPlace=e)},null,8,["modelValue"])]),(0,t._)("div",$l,[(0,t.Wm)(j,{filled:"",label:"Fecha de aceptación",modelValue:b.value.person.acceptanceDate,"onUpdate:modelValue":a[28]||(a[28]=e=>b.value.person.acceptanceDate=e),rules:[(0,i.SU)(xe.Z).date]},{append:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(X,{ref:"acceptanceDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{modelValue:b.value.person.acceptanceDate,"onUpdate:modelValue":a[27]||(a[27]=e=>b.value.person.acceptanceDate=e),minimal:"",mask:"DD/MM/YYYY",options:x},{default:(0,t.w5)((()=>[(0,t._)("div",jl,[(0,t.wy)((0,t.Wm)(o,{label:"Cerrar",color:"primary",flat:""},null,512),[[Ae]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t._)("div",Kl,[(0,t.Wm)(j,{filled:"",label:"F. aceptación/Iglesia local",modelValue:b.value.person.acceptanceLocalDate,"onUpdate:modelValue":a[30]||(a[30]=e=>b.value.person.acceptanceLocalDate=e),rules:[(0,i.SU)(xe.Z).date]},{append:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(X,{ref:"acceptanceLocalDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{modelValue:b.value.person.acceptanceLocalDate,"onUpdate:modelValue":a[29]||(a[29]=e=>b.value.person.acceptanceLocalDate=e),minimal:"",mask:"DD/MM/YYYY",options:x},{default:(0,t.w5)((()=>[(0,t._)("div",Jl,[(0,t.wy)((0,t.Wm)(o,{label:"Cerrar",color:"primary",flat:""},null,512),[[Ae]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t._)("div",Xl,[(0,t.Wm)(j,{filled:"",label:"Fecha dado/a de baja",modelValue:b.value.person.dischargeDate,"onUpdate:modelValue":a[32]||(a[32]=e=>b.value.person.dischargeDate=e),rules:[(0,i.SU)(xe.Z).date]},{append:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(X,{ref:"dischargeDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{modelValue:b.value.person.dischargeDate,"onUpdate:modelValue":a[31]||(a[31]=e=>b.value.person.dischargeDate=e),minimal:"",mask:"DD/MM/YYYY",options:x},{default:(0,t.w5)((()=>[(0,t._)("div",ea,[(0,t.wy)((0,t.Wm)(o,{label:"Cerrar",color:"primary",flat:""},null,512),[[Ae]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t._)("div",la,[(0,t.Wm)(j,{filled:"",label:"Observaciones",modelValue:b.value.person.observations,"onUpdate:modelValue":a[33]||(a[33]=e=>b.value.person.observations=e)},null,8,["modelValue"])])])])),_:1}),b.value.id?((0,t.wg)(),(0,t.j4)(le,{key:0,name:"cargos"},{default:(0,t.w5)((()=>[aa,b.value?((0,t.wg)(),(0,t.j4)(sl,{key:0,user:b.value},null,8,["user"])):(0,t.kq)("",!0)])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(le,{name:"usuario"},{default:(0,t.w5)((()=>[oa,(0,t._)("div",ta,[(0,t._)("div",na,[(0,t.Wm)(j,{filled:"",label:"Usuario",modelValue:b.value.username,"onUpdate:modelValue":a[34]||(a[34]=e=>b.value.username=e),rules:[(0,i.SU)(xe.Z).required]},null,8,["modelValue","rules"])]),b.value.id?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ia,[(0,t.Wm)(j,{filled:"",readonly:T.value,label:"Contraseña",type:D.value?"password":"text",modelValue:b.value.password,"onUpdate:modelValue":a[36]||(a[36]=e=>b.value.password=e),rules:T.value?null:[(0,i.SU)(xe.Z).required]},{append:(0,t.w5)((()=>[(0,t.Wm)(k,{name:D.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[35]||(a[35]=e=>D.value=!D.value),color:"primary"},null,8,["name"])])),_:1},8,["readonly","type","modelValue","rules"])])),(0,t._)("div",ua,[(0,t.Wm)(j,{filled:"",label:"Correo electrónico",modelValue:b.value.email,"onUpdate:modelValue":a[37]||(a[37]=e=>b.value.email=e),rules:[(0,i.SU)(xe.Z).email]},null,8,["modelValue","rules"])]),v?((0,t.wg)(),(0,t.iD)("div",ra,[(0,t.Wm)(K,{filled:"",label:"Rol",modelValue:b.value.roles,"onUpdate:modelValue":a[38]||(a[38]=e=>b.value.roles=e),options:S.value,rules:[(0,i.SU)(xe.Z).required],multiple:"","use-chips":"","option-value":"id","option-label":"name","emit-value":"","map-options":""},null,8,["modelValue","options","rules"])])):(0,t.kq)("",!0)])])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(oe,{align:"right"},{default:(0,t.w5)((()=>["personal"!==N.value?((0,t.wg)(),(0,t.j4)(o,{key:0,label:"Anterior",icon:"navigate_before",onClick:q})):(0,t.kq)("",!0),"usuario"!==N.value?((0,t.wg)(),(0,t.j4)(o,{key:1,label:"Siguiente",icon:"navigate_next",onClick:P})):(0,t.kq)("",!0),(0,t.wy)((0,t.Wm)(o,{label:"Cancelar",icon:"cancel"},null,512),[[Ae]]),(0,t.Wm)(o,{type:"submit",label:"Guardar",icon:"check",color:"primary"})])),_:1})])),_:2},1032,["onSubmit"])])),_:2},1024)])),row:(0,t.w5)((e=>[(0,t.Wm)(ce,{class:(0,n.C_)(["crud-table-checkbox",{active:e.selected}])},{default:(0,t.w5)((()=>[g.value?((0,t.wg)(),(0,t.j4)(ue,{key:0,class:"crud-table-selected"},{default:(0,t.w5)((()=>[(0,t.Wm)(ie,{modelValue:e.selected,"onUpdate:modelValue":l=>e.selected=l,onClick:l=>e.setSelected(e)},null,8,["modelValue","onUpdate:modelValue","onClick"])])),_:2},1024)):(0,t.kq)("",!0),(0,t.Wm)(ue,{"auto-width":""},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{class:"q-ma-xs",color:e.row.expand?"secondary":"positive",flat:"",round:"",onClick:l=>e.row.expand=!e.row.expand,icon:e.row.expand?"remove_circle":"add_circle"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.row.expand?"Ocultar información":"Mostrar información"),1)])),_:2},1024)])),_:2},1032,["color","onClick","icon"]),v?((0,t.wg)(),(0,t.j4)(re,{key:0,modelValue:e.row.state,"onUpdate:modelValue":l=>e.row.state=l,color:"primary","false-value":"INACTIVE","true-value":"ACTIVE",onClick:a=>(0,i.SU)(m.$)(e.update,e.row,`${l}/${e.row.id}`)},null,8,["modelValue","onUpdate:modelValue","onClick"])):(0,t.kq)("",!0),(0,t.Wm)(C,{color:"primary","dropdown-icon":"more_vert",flat:"",rounded:""},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{dense:"",class:"q-py-sm"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(A,{clickable:"",onClick:l=>L(e.open,e.row.id)},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{avatar:"",class:"datatable-menu-item"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"edit"})])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Editar")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Ae]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(A,{clickable:"",onClick:l=>L(e.open,e.row.id,"cargos")},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{avatar:"",class:"datatable-menu-item"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"work"})])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Ver cargos")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Ae]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(A,{clickable:"",onClick:l=>W(e.row)},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{avatar:"",class:"datatable-menu-item"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"photo_camera"})])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>{var l;return[(0,t.Uk)((0,n.zw)((null===(l=e.row.person)||void 0===l?void 0:l.photo)?"Modificar":"Agregar")+" foto",1)]})),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[Ae]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(A,{clickable:"",onClick:l=>h([e.row])},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{avatar:"",class:"datatable-menu-item"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"print"})])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Imprimir")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Ae]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(A,{clickable:"",onClick:a=>(0,i.SU)(m.w)(e.update,`${l}/${e.row.id}`)},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{avatar:"",class:"datatable-menu-item"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"delete"})])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Eliminar")])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Ae]])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,t.Wm)(ue,null,{default:(0,t.w5)((()=>{var l;return[(0,t.Uk)((0,n.zw)(null===(l=e.row.person)||void 0===l?void 0:l.fullname),1)]})),_:2},1024),v?((0,t.wg)(),(0,t.j4)(ue,{key:1},{default:(0,t.w5)((()=>{var l;return[(0,t.Uk)((0,n.zw)(null===(l=e.row.company)||void 0===l?void 0:l.name),1)]})),_:2},1024)):((0,t.wg)(),(0,t.j4)(ue,{key:2},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)((0,i.SU)(d.WU)(e.row.person.birthday)),1)])),_:2},1024)),(0,t.Wm)(ue,{class:"text-left"},{default:(0,t.w5)((()=>[(0,t.Wm)(se,{square:"",dense:"",color:y[e.row.type].color,"text-color":y[e.row.type].textColor,label:y[e.row.type].label},null,8,["color","text-color","label"]),e.row.person.memberStatus?((0,t.wg)(),(0,t.iD)("span",sa,[(0,t.Wm)(se,{square:"",dense:"",color:y[e.row.person.memberStatus].color,"text-color":y[e.row.person.memberStatus].textColor,label:y[e.row.person.memberStatus].label},null,8,["color","text-color","label"])])):(0,t.kq)("",!0)])),_:2},1024),(0,t.Wm)(ue,{class:"text-right"},{default:(0,t.w5)((()=>[(0,t.Wm)(se,{square:"",dense:"",color:y[e.row.state].color,"text-color":y[e.row.state].textColor,label:y[e.row.state].label},null,8,["color","text-color","label"])])),_:2},1024)])),_:2},1032,["class"]),(0,t.wy)((0,t.Wm)(ce,null,{default:(0,t.w5)((()=>[(0,t.Wm)(ue,{colspan:"100%",class:"member-info-container"},{default:(0,t.w5)((()=>[e.row.expand?((0,t.wg)(),(0,t.j4)(Ie,{key:0,id:e.row.id},null,8,["id"])):(0,t.kq)("",!0)])),_:2},1024)])),_:2},1536),[[u.F8,e.row.expand]])])),_:1},8,["filters","selection"]),(0,t.Wm)(de,{modelValue:_.value,"onUpdate:modelValue":a[40]||(a[40]=e=>_.value=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[_.value?((0,t.wg)(),(0,t.j4)(ke,{key:0,id:w.value},null,8,["id"])):(0,t.kq)("",!0)])),_:1},8,["modelValue"])])}}});var da=a(5363),Aa=a(2226),ma=a(7011),pa=a(7547),va=a(3269),Ia=a(5869),Ea=a(5906),ya=a(6602),Na=a(3944),Ra=a(5836),Oa=a(7991),ba=a(8886),wa=a(6778);const Ca=ca,Sa=Ca;pe()(ca,"components",{QBtn:ge.Z,QTooltip:da.Z,QBtnDropdown:Aa.Z,QList:ma.Z,QItem:ll.Z,QItemSection:al.Z,QItemLabel:ol.Z,QCard:Te.Z,QToolbar:fe.Z,QIcon:De.Z,QToolbarTitle:_e.Z,QTabs:pa.Z,QTab:va.Z,QSeparator:Ia.Z,QForm:Xe.Z,QTabPanels:Ea.Z,QTabPanel:ya.Z,QInput:tl.Z,QSelect:el.Z,QPopupProxy:Na.Z,QDate:Ra.Z,QRadio:Oa.Z,QCardActions:he.Z,QTr:il.Z,QTd:ul.Z,QCheckbox:nl.Z,QToggle:ba.Z,QChip:de.Z,QDialog:wa.Z}),pe()(ca,"directives",{ClosePopup:Me.Z})}}]);