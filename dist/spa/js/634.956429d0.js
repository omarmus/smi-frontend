"use strict";(self["webpackChunksmi_frontend"]=self["webpackChunksmi_frontend"]||[]).push([[634],{8634:(t,e,n)=>{n.r(e),n.d(e,{default:()=>q});var l=n(3673),a=n(2323),o=n(1959),i=n(2993),s=function(t,e,n,l){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function i(t){try{c(l.next(t))}catch(e){o(e)}}function s(t){try{c(l["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):a(t.value).then(i,s)}c((l=l.apply(t,e||[])).next())}))};const c={class:"container"},d={class:"treasury-title"},u=(0,l.Uk)(" Flujo de caja Inicial - "),r=(0,l._)("span",{class:"text-warning"},"Iglesia local",-1),p={class:"subtitle"},m={class:"row flow-items q-col-gutter-x-lg q-pt-md"},v={class:"row q-pb-xs"},f={class:"col-8"},h={class:"col-xs-4 col-sm-4"},w={class:"text-right q-pt-lg"},y=(0,l.aZ)({setup(t){const e=(0,o.iH)([]),n=(0,o.iH)(),y=9,b=()=>s(this,void 0,void 0,(function*(){const t=yield i.http.get("departments?order=id&type=LOCAL");e.value=t.rows})),g=()=>s(this,void 0,void 0,(function*(){const t=yield i.http.get(`flows?id_company=${y}&type=INITIAL`);t.count?(e.value=t.rows.map((t=>({id:t.department.id,name:t.department.name,total:t.total}))),n.value=!0):yield b()})),x=()=>s(this,void 0,void 0,(function*(){yield i.http.post("flows/initial",{id_company:y,departments:e.value}),yield g()})),_=(0,o.Fl)((()=>{let t=0;return e.value.forEach((e=>{t+=Number(e.total||0)})),t.toFixed(2)}));return(0,l.wF)((()=>s(this,void 0,void 0,(function*(){yield g()})))),(t,i)=>{const s=(0,l.up)("q-btn"),y=(0,l.up)("q-input");return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("h2",d,[(0,l.Wm)(s,{icon:"arrow_back",round:"",flat:"",onClick:i[0]||(i[0]=e=>t.$router.push("/treasury/flows"))}),u,r,(0,l._)("span",p,"Total: "+(0,a.zw)((0,o.SU)(_))+" Bs.",1)]),(0,l._)("div",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"col-xs-12 col-sm-6",key:t.id},[(0,l._)("div",v,[(0,l._)("div",f,(0,a.zw)(t.name),1),(0,l._)("div",h,[(0,l.Wm)(y,{standout:"",class:"text-right",dense:"",placeholder:"0",suffix:"Bs.",modelValue:t.total,"onUpdate:modelValue":e=>t.total=e,disable:n.value},null,8,["modelValue","onUpdate:modelValue","disable"])])])])))),128))]),(0,l._)("div",w,[(0,l.Wm)(s,{label:"Guardar balance inicial","no-caps":"",color:"primary",icon:"print",padding:"10px 20px",class:"btn-close-month",onClick:x,disable:n.value},null,8,["disable"])])])}}});var b=n(8240),g=n(4689),x=n(7518),_=n.n(x);const k=y,q=k;_()(y,"components",{QBtn:b.Z,QInput:g.Z})}}]);