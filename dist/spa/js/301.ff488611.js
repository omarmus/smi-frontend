"use strict";(globalThis["webpackChunksmi_frontend"]=globalThis["webpackChunksmi_frontend"]||[]).push([[301],{6301:(t,e,l)=>{l.r(e),l.d(e,{default:()=>zt});var a=l(3673),s=l(2323),n=l(1959),r=l(8339),o=l(9236),i=l(2993),d=l(925),u=l(2505),c=l.n(u),w=function(t,e,l,a){function s(t){return t instanceof l?t:new l((function(e){e(t)}))}return new(l||(l=Promise))((function(l,n){function r(t){try{i(a.next(t))}catch(e){n(e)}}function o(t){try{i(a["throw"](t))}catch(e){n(e)}}function i(t){t.done?l(t.value):s(t.value).then(r,o)}i((a=a.apply(t,e||[])).next())}))};const h={key:0,class:"container"},_={class:"treasury-title"},g={class:"row"},v={class:"text-left q-mb-md col-xs-12"},p={class:"row",id:"report-quarter"},x={class:"col-12"},f={class:"text-center report-title"},m=(0,a._)("h3",{class:"text-primary flow-title"},"OFRENDAS ENVIADAS A LA ASOCIACIÓN BOLIVIANA",-1),b={class:"q-table-simple q-table__container q-table--horizontal-separator column no-wrap q-table--dense q-table--no-wrap col-12"},y={class:"q-table treasury-table-data"},L=(0,a._)("th",{class:"text-left"},[(0,a._)("strong",null,"Departamento")],-1),S=(0,a._)("th",{class:"text-right text-primary"},[(0,a._)("strong",null,"Total trimestre")],-1),A={class:"text-left"},D={class:"flow-head-table"},O={class:"flow-row-table"},k={class:"text-hidden"},q={class:"flow-head-table"},z={class:"text-right text-primary"},C={class:"flow-row-table"},T=(0,a._)("span",{class:"text-hidden"},"Total trimestre:",-1),I={class:"flow-head-table"},E=(0,a._)("th",{class:"text-left"},[(0,a._)("span",{class:"flow-head-table"},[(0,a._)("strong",null,"TOTAL")])],-1),U={class:"flow-row-table"},N={key:0,class:"text-hidden"},F={key:1,class:"text-hidden"},G={class:"flow-head-table"},R={key:0,class:"col-12 q-mt-lg"},H=(0,a._)("h3",{class:"text-primary flow-title"},"INGRESOS DE LA IGLESIA LOCAL, GASTOS Y SALDOS DE SUS FONDOS",-1),B={class:"q-table-simple q-table__container q-table--horizontal-separator column no-wrap q-table--dense q-table--no-wrap col-12"},Y={class:"q-table treasury-table-data"},K=(0,a._)("tr",null,[(0,a._)("th",null," "),(0,a._)("th",{class:"bg-warning text-white"},[(0,a._)("strong",null,"SALDO ANTERIOR")]),(0,a._)("th",{colspan:"4",class:"bg-positive text-white"},[(0,a._)("strong",null,"INGRESOS TRIMESTRE")]),(0,a._)("th",{class:"bg-negative text-white"},[(0,a._)("strong",null,"GASTOS TRIMESTRE")]),(0,a._)("th",{class:"bg-primary text-white"},[(0,a._)("strong",null,"SALDO TRIMESTRE")])],-1),M=(0,a._)("th",{class:"text-left",rowspan:"2"},[(0,a._)("strong",null,"Departamento")],-1),$={class:"text-right text-warning",rowspan:"2"},P=(0,a._)("th",{class:"text-right text-positive"},[(0,a._)("strong",null,"Ingreso total")],-1),Q=(0,a._)("th",{class:"text-right text-negative"},[(0,a._)("strong",null,"Gasto total")],-1),Z=(0,a._)("th",{class:"text-right text-primary"},[(0,a._)("strong",null,"Saldo total")],-1),j={class:"text-left"},J={class:"flow-head-table"},V={class:"text-right text-warning"},W={class:"flow-row-table"},X={class:"text-hidden"},tt={class:"flow-head-table"},et={class:"flow-row-table"},lt={class:"text-hidden"},at={class:"flow-head-table"},st={class:"text-right text-positive"},nt={class:"flow-row-table"},rt=(0,a._)("span",{class:"text-hidden"},"Ingreso total:",-1),ot={class:"flow-head-table"},it={class:"text-right text-negative"},dt={class:"flow-row-table"},ut=(0,a._)("span",{class:"text-hidden"},"Gasto total:",-1),ct={class:"flow-head-table"},wt={class:"text-right text-primary"},ht={class:"flow-row-table"},_t=(0,a._)("span",{class:"text-hidden"},"Saldo total:",-1),gt={class:"flow-head-table"},vt=(0,a._)("th",{class:"text-left"},[(0,a._)("span",{class:"flow-head-table"},[(0,a._)("strong",null,"TOTAL")])],-1),pt={class:"flow-row-table"},xt={key:0,class:"text-hidden"},ft={key:1,class:"text-hidden"},mt={key:2,class:"text-hidden"},bt={key:3,class:"text-hidden"},yt={key:4,class:"text-hidden"},Lt={class:"flow-head-table"},St=(0,a.aZ)({__name:"QuarterDetails",setup(t){const e=(0,r.yj)(),l=(0,o.o)(),u=(0,n.iH)(),St=(0,n.iH)(),At=["1er. trimestre","2do. trimestre","3er. trimestre","4to. trimestre"],Dt=(0,a.Fl)((()=>u.value?u.value.month-2<0?11:u.value.month-2:0)),Ot=(0,a.Fl)((()=>{if(!u.value)return"";const t=JSON.parse(u.value.metadata);return At[t.quarter-1]})),kt=t=>w(this,void 0,void 0,(function*(){u.value=yield i.http.get(`reports/${t}`),St.value=JSON.parse(u.value.content)})),qt=()=>w(this,void 0,void 0,(function*(){var t,e;const a=document.getElementById("report-quarter");if(!a)return;yield new Promise((t=>setTimeout(t,100)));const s={margin:[10,10,10,10],filename:`informe-trimestral-${(null===(t=l.state.user.user.company)||void 0===t?void 0:t.name)||"iglesia"}-${(null===(e=u.value)||void 0===e?void 0:e.year)||""}-${Date.now()}.pdf`,image:{type:"png"},html2canvas:{scale:2.5,useCORS:!0,logging:!1,backgroundColor:"#ffffff"},jsPDF:{unit:"mm",format:"letter",orientation:"landscape"}};c()().set(s).from(a).save()}));return(0,a.bv)((()=>{e.params.id&&kt(String(e.params.id))})),(t,e)=>{var r;const o=(0,a.up)("q-btn");return u.value&&St.value?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("h2",_,[(0,a.Wm)(o,{icon:"arrow_back",round:"",flat:"",onClick:e[0]||(e[0]=e=>t.$router.push("/treasury/report/quarter"))}),(0,a.Uk)(" Atrás ")]),(0,a._)("div",g,[(0,a._)("div",v,[(0,a.Wm)(o,{icon:"print","no-caps":"",onClick:qt},{default:(0,a.w5)((()=>[(0,a.Uk)("  Imprimir ")])),_:1})])]),(0,a._)("div",p,[(0,a._)("div",x,[(0,a._)("h2",f,[(0,a.Uk)(" INFORME TRIMESTRAL "),(0,a._)("strong",null,(0,s.zw)(null===(r=(0,n.SU)(l).state.user.user.company)||void 0===r?void 0:r.name),1),(0,a._)("span",null,(0,s.zw)((0,n.SU)(Ot))+" - "+(0,s.zw)(u.value.month>11?u.value.year+1:u.value.year),1)]),m,(0,a._)("div",b,[(0,a._)("table",y,[(0,a._)("thead",null,[(0,a._)("tr",null,[L,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(St.value.GLOBAL.entries.header,(t=>((0,a.wg)(),(0,a.iD)("th",{class:"text-right text-secondary",key:t},[(0,a._)("strong",null,(0,s.zw)((0,n.SU)(d.e7)[Number(t.split("-")[0])-1]),1)])))),128)),S])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(St.value.GLOBAL.entries.body,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.name},[(0,a._)("td",A,[(0,a._)("span",D,(0,s.zw)(t.name),1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.values,((t,e)=>((0,a.wg)(),(0,a.iD)("td",{class:"text-right",key:e},[(0,a._)("div",O,[(0,a._)("span",k,(0,s.zw)((0,n.SU)(d.e7)[Number(St.value.GLOBAL.entries.header[e].split("-")[0])-1])+":",1),(0,a._)("span",q,(0,s.zw)(t.toFixed(2)),1)])])))),128)),(0,a._)("td",z,[(0,a._)("div",C,[T,(0,a._)("strong",I,(0,s.zw)(t.total.toFixed(2)),1)])])])))),128))]),(0,a._)("tfoot",null,[(0,a._)("tr",null,[E,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(St.value.GLOBAL.entries.footer,((t,e)=>((0,a.wg)(),(0,a.iD)("th",{class:(0,s.C_)(["text-right",{"text-primary":e===St.value.GLOBAL.entries.footer.length-1}]),key:e},[(0,a._)("div",U,[e>=0&&e<=2?((0,a.wg)(),(0,a.iD)("span",N,(0,s.zw)((0,n.SU)(d.e7)[Number(St.value.LOCAL.entries.header[e].split("-")[0])-1])+":",1)):(0,a.kq)("",!0),e===St.value.GLOBAL.entries.footer.length-1?((0,a.wg)(),(0,a.iD)("span",F,"Total trimestre:")):(0,a.kq)("",!0),(0,a._)("strong",G,(0,s.zw)(t.toFixed(2)),1)])],2)))),128))])])])])]),St.value?((0,a.wg)(),(0,a.iD)("div",R,[H,(0,a._)("div",B,[(0,a._)("table",Y,[(0,a._)("thead",null,[K,(0,a._)("tr",null,[M,(0,a._)("th",$,[(0,a._)("strong",null,"Saldo "+(0,s.zw)((0,n.SU)(d.e7)[(0,n.SU)(Dt)]),1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(St.value.LOCAL.entries.header,(t=>((0,a.wg)(),(0,a.iD)("th",{class:"text-right",key:t},[(0,a._)("strong",null,(0,s.zw)((0,n.SU)(d.e7)[Number(t.split("-")[0])-1]),1)])))),128)),P,Q,Z])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(St.value.LOCAL.entries.body,(t=>{var e,l,r;return(0,a.wg)(),(0,a.iD)("tr",{key:t.name},[(0,a._)("td",j,[(0,a._)("span",J,(0,s.zw)(t.name),1)]),(0,a._)("td",V,[(0,a._)("div",W,[(0,a._)("span",X,"Saldo "+(0,s.zw)((0,n.SU)(d.e7)[(0,n.SU)(Dt)])+":",1),(0,a._)("span",tt,(0,s.zw)(null===(e=t.previous)||void 0===e?void 0:e.toFixed(2)),1)])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.values,((t,e)=>((0,a.wg)(),(0,a.iD)("td",{class:"text-right",key:e},[(0,a._)("div",et,[(0,a._)("span",lt,(0,s.zw)((0,n.SU)(d.e7)[Number(St.value.LOCAL.entries.header[e].split("-")[0])-1])+":",1),(0,a._)("span",at,(0,s.zw)(t.toFixed(2)),1)])])))),128)),(0,a._)("td",st,[(0,a._)("div",nt,[rt,(0,a._)("strong",ot,(0,s.zw)(t.total.toFixed(2)),1)])]),(0,a._)("td",it,[(0,a._)("div",dt,[ut,(0,a._)("strong",ct,(0,s.zw)(null===(l=t.totalExpense)||void 0===l?void 0:l.toFixed(2)),1)])]),(0,a._)("td",wt,[(0,a._)("div",ht,[_t,(0,a._)("strong",gt,(0,s.zw)(null===(r=t.totalGlobal)||void 0===r?void 0:r.toFixed(2)),1)])])])})),128))]),(0,a._)("tfoot",null,[(0,a._)("tr",null,[vt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(St.value.LOCAL.entries.footer,((t,e)=>((0,a.wg)(),(0,a.iD)("th",{class:(0,s.C_)(["text-right",{"text-warning":0===e,"text-positive":e===St.value.LOCAL.entries.footer.length-3,"text-negative":e===St.value.LOCAL.entries.footer.length-2,"text-primary":e===St.value.LOCAL.entries.footer.length-1}]),key:e},[(0,a._)("div",pt,[0===e?((0,a.wg)(),(0,a.iD)("span",xt,"Saldo "+(0,s.zw)((0,n.SU)(d.e7)[(0,n.SU)(Dt)])+":",1)):(0,a.kq)("",!0),e>=1&&e<=3?((0,a.wg)(),(0,a.iD)("span",ft,(0,s.zw)((0,n.SU)(d.e7)[Number(St.value.LOCAL.entries.header[e-1].split("-")[0])-1])+":",1)):(0,a.kq)("",!0),e===St.value.LOCAL.entries.footer.length-3?((0,a.wg)(),(0,a.iD)("span",mt,"Ingreso total:")):(0,a.kq)("",!0),e===St.value.LOCAL.entries.footer.length-2?((0,a.wg)(),(0,a.iD)("span",bt,"Gasto total:")):(0,a.kq)("",!0),e===St.value.LOCAL.entries.footer.length-1?((0,a.wg)(),(0,a.iD)("span",yt,"Saldo total:")):(0,a.kq)("",!0),(0,a._)("strong",Lt,(0,s.zw)(t.toFixed(2)),1)])],2)))),128))])])])])])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)}}});var At=l(2165),Dt=l(6429),Ot=l(7518),kt=l.n(Ot);const qt=St,zt=qt;kt()(St,"components",{QBtn:At.Z,QTable:Dt.Z})}}]);