"use strict";(globalThis["webpackChunksmi_frontend"]=globalThis["webpackChunksmi_frontend"]||[]).push([[64],{6872:(e,l,t)=>{t.d(l,{$:()=>r,w:()=>u});var o=t(185),n=t(2993),a=function(e,l,t,o){function n(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,a){function u(e){try{i(o.next(e))}catch(l){a(l)}}function r(e){try{i(o["throw"](e))}catch(l){a(l)}}function i(e){e.done?t(e.value):n(e.value).then(u,r)}i((o=o.apply(e,l||[])).next())}))};const u=(e,l)=>{(0,o.Confirm)("¿Está seguro que desea eliminar este registro?",(()=>a(void 0,void 0,void 0,(function*(){yield n.http["delete"](l),yield e()}))))},r=(e,l,t)=>{(0,o.Confirm)(`¿Está seguro que quiere ${l?"activar":"desactivar"} el registro?`,(()=>a(void 0,void 0,void 0,(function*(){yield n.http.put(t,{state:l.state}),yield e()}))),(()=>{l.state="ACTIVE"===l.state?"INACTIVE":"ACTIVE"}))}},925:(e,l,t)=>{t.d(l,{Fv:()=>r,KS:()=>a,V4:()=>i,WU:()=>u,an:()=>n,e7:()=>o});const o=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],a=(e,l)=>{const t=new Date(e,l,0).getDate(),o=new Date(e,l-1,1),n=[];for(let a=6-o.getDay(),u=1;a<t;a+=7,u++)n.push({day:a+1,label:`Sábado ${a+1}`,week:u,total:0});return n},u=e=>{if(!e)return null;const l=new Date(e);return[l.getUTCDate(),l.getUTCMonth()+1,l.getUTCFullYear()].join("/")},r=e=>e?[e.split("/")[2],e.split("/")[1],e.split("/")[0]].join("-"):null,i=(e=0,l=2022)=>{const t=(new Date).getUTCFullYear()+e,o=[];for(let n=t;n>=l;n--)o.push(n);return o}},5751:(e,l,t)=>{t.d(l,{$:()=>n});const o=(e,l,t=512)=>{const o=atob(e),n=[];for(let a=0;a<o.length;a+=t){const e=o.slice(a,a+t),l=new Array(e.length);for(let t=0;t<e.length;t++)l[t]=e.charCodeAt(t);const u=new Uint8Array(l);n.push(u)}return new Blob(n,{type:l||""})},n=(e,l)=>{const t=document.createElement("a");t.href=window.URL.createObjectURL(o(e,"application/pdf")),t.setAttribute("download",l),document.body.appendChild(t),t.click()}},8468:(e,l,t)=>{t.d(l,{K:()=>n,Z:()=>o});const o={email:e=>{const l=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;return l.test(String(e).toLowerCase())||!e||"El correo no es válido."},url:e=>/[-a-zA-Z0-9@:%_+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_+.~#?&//=]*)?/.test(e)||!e||"Introduzca una URL válida",date:e=>/^((0?[1-9]|[12][0-9]|3[01])[- /.](0?[1-9]|1[012])[- /.](19|20)?[0-9]{2})*$/.test(e)||!e||"Introduzca una fecha válida",password:e=>e.length>=6||!e||"Debe tener al menos 6 carácteres.",required:e=>!!e||"El campo es requerido.",phone:e=>{const l=/^[0-9]/;return l.test(String(e).toLowerCase())&&8===e.length||!e||"Introduzca un numero de celular válido."},alphabet:e=>{const l=/^[a-zñÑáéíóú]/;return l.test(String(e).toLowerCase())||!e||"Solo se permiten letras."},number:e=>{const l=/^\d+$/g;return l.test(String(e))||!e||"Solo se permiten numeros enteros."},decimal:e=>{const l=/^\d*\.?\d*$/g;return l.test(String(e))||!e||"Use el punto (.) para los decimales."}};function n(e){return/^\d*\.?\d*$/.test(e)}},5198:(e,l,t)=>{t.d(l,{Z:()=>W});var o=t(3673),n=t(2323),a=t(1959),u=t(2993),r=function(e,l,t,o){function n(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,a){function u(e){try{i(o.next(e))}catch(l){a(l)}}function r(e){try{i(o["throw"](e))}catch(l){a(l)}}function i(e){e.done?t(e.value):n(e.value).then(u,r)}i((o=o.apply(e,l||[])).next())}))};const i={class:"row"},s={class:"col-xs-12"},d={class:"col-xs-12"},c={class:"col-xs-12 col-md-8"},p={class:"col-xs-12 col-md-4 text-right"},m={key:1,class:"q-pl-md full-width q-crud-filter"},v={class:"row q-col-gutter-xs no-padding full-width"},g={key:0,class:"q-gutter-xs"},f=(0,o.aZ)({__name:"CrudTable",props:{title:null,columns:null,filters:null,grid:{type:Boolean},order:null,url:null,openFilter:{type:Boolean},selection:{type:Boolean},labelSelection:null,buttonsHidden:{type:Boolean},colsFilter:null},setup(e){var l;const t=e,f=(0,a.iH)([]),w=(0,a.iH)({sortBy:t.order?t.order.replace("-",""):null,descending:-1!==(null===(l=null===t||void 0===t?void 0:t.order)||void 0===l?void 0:l.indexOf("-")),page:1,rowsPerPage:10,rowsNumber:0,"rows-per-page-label":"Páginas"}),b=(0,a.iH)([]),h=(0,a.iH)(!1),y=(0,a.iH)(!1),k=(0,a.iH)({}),q=(0,a.iH)(!!t.openFilter),V=()=>{q.value=!q.value,k.value={}},U=e=>{const l=b.value.find((l=>l.id===e.row.id));l?b.value=b.value.filter((l=>l.id!==e.row.id)):b.value.push(e.row),e.checked=!e.checked},C=()=>b.value,_=e=>{b.value=b.value.filter((l=>l.id!==e.id))},x=e=>{const l=$(t.labelSelection,e);return l||e.id},$=(e,l)=>{const t=e.split(".");let o={};if(t.length){if(!l[t[0]])return null;o=l[t[0]];for(let e=1;e<t.length;e++){if(!o[t[e]])return null;o=o[t[e]]}return o}return null};function D(e,l,t){return`${e} - ${l} de ${t}`}const S=e=>r(this,void 0,void 0,(function*(){h.value=!0;const{page:l,rowsPerPage:n,sortBy:a,descending:r}=e.pagination,i={limit:0===n?w.value.rowsNumber:n,page:l};if(a&&(i.order=(r?"-":"")+a),Object.keys(k.value).length)for(const e of Object.keys(k.value))k.value[e]&&k.value[e].toString().length>0&&(i[e]=k.value[e]);const s=yield u.http.get(u.http.convertQuery(t.url,i),!1);(0,o.Y3)((()=>{h.value=!1,s&&(f.value=s.rows,w.value=e.pagination,w.value.rowsNumber=s.count)}))})),I=()=>{y.value=!0},W=()=>{y.value=!1},Z=()=>r(this,void 0,void 0,(function*(){yield S({pagination:w.value})})),A=()=>0===b.value.length?"":`${b.value.length} registro${b.value.length>1?"s":""} seleccionado de ${f.value.length}`,z=()=>{t.filters.forEach((e=>{e.value&&(k.value[e.name]=e.value)}))};return(0,o.YP)((()=>JSON.parse(JSON.stringify(k.value))),(()=>r(this,void 0,void 0,(function*(){yield S({pagination:w.value})})))),(0,o.bv)((()=>r(this,void 0,void 0,(function*(){z(),yield S({pagination:w.value})})))),(e,l)=>{const a=(0,o.up)("q-dialog"),u=(0,o.up)("q-icon"),r=(0,o.up)("q-tooltip"),$=(0,o.up)("q-btn"),z=(0,o.up)("q-toolbar"),Q=(0,o.up)("q-select"),T=(0,o.up)("q-checkbox"),j=(0,o.up)("q-input"),H=(0,o.up)("q-date"),P=(0,o.up)("q-popup-proxy"),E=(0,o.up)("q-chip"),F=(0,o.up)("q-table");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",s,[(0,o.Wm)(a,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"form",{class:"crud-table-form",close:W,update:Z},(()=>[(0,o.Uk)("Agregue su formulario aquí")]))])),_:3},8,["modelValue"]),(0,o.WI)(e.$slots,"formInline",{class:"crud-table-form",update:Z})]),(0,o._)("div",d,[!1===t.buttonsHidden?((0,o.wg)(),(0,o.j4)(z,{key:0,inset:"",class:"q-gutter-md q-px-md q-pb-md"},{default:(0,o.w5)((()=>{var l;return[(0,o._)("div",c,[(0,o.WI)(e.$slots,"buttons",{open:I,getSelected:C,update:Z}),(null===(l=t.filters)||void 0===l?void 0:l.length)>0&&!1===t.openFilter?((0,o.wg)(),(0,o.j4)($,{key:0,class:"q-ml-none q-mr-xs",onClick:V},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{center:"",name:q.value?"close":"search",color:"secondary"},null,8,["name"]),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(q.value?"Cerrar filtros":"Abrir filtros"),1)])),_:1})])),_:1})):(0,o.kq)("",!0),(0,o.Wm)($,{class:"q-ml-none q-mr-xs",onClick:Z},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{center:"",name:"refresh",color:"secondary"}),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Actualizar página")])),_:1})])),_:1})]),(0,o._)("div",p,[(0,o.WI)(e.$slots,"buttons-end")])]})),_:3})):(0,o.kq)("",!0),q.value?((0,o.wg)(),(0,o.iD)("div",m,[(0,o.Wm)(u,{name:"search",size:"md",class:"icon-search"}),(0,o._)("div",v,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.filters,((l,a)=>((0,o.wg)(),(0,o.iD)("div",{key:a,class:(0,n.C_)(t.colsFilter||"col-xs-12 col-sm-4 col-md-3")},["select"===l.type?((0,o.wg)(),(0,o.j4)(Q,{key:0,modelValue:k.value[l.name],"onUpdate:modelValue":e=>k.value[l.name]=e,options:l.options,label:l.label,behavior:"menu",clearable:"",filled:"",dense:"","emit-value":"","map-options":"",autofocus:0===a},null,8,["modelValue","onUpdate:modelValue","options","label","autofocus"])):(0,o.kq)("",!0),"checkbox"===l.type?((0,o.wg)(),(0,o.j4)(T,{key:1,modelValue:k.value[l.name],"onUpdate:modelValue":e=>k.value[l.name]=e,label:l.label,filled:"",dense:"",autofocus:0===a},null,8,["modelValue","onUpdate:modelValue","label","autofocus"])):(0,o.kq)("",!0),"input"===l.type?((0,o.wg)(),(0,o.j4)(j,{key:2,modelValue:k.value[l.name],"onUpdate:modelValue":e=>k.value[l.name]=e,label:l.label,clearable:"",filled:"",dense:"",autofocus:0===a,debounce:"500",width:l.width},null,8,["modelValue","onUpdate:modelValue","label","autofocus","width"])):(0,o.kq)("",!0),"date"===l.type?((0,o.wg)(),(0,o.j4)(j,{key:3,modelValue:k.value[l.name],"onUpdate:modelValue":e=>k.value[l.name]=e,label:l.label,clearable:"",filled:"",dense:""},{append:(0,o.w5)((()=>[(0,o.Wm)(u,{name:"event",class:"cursor-pointer"}),(0,o.Wm)(P,{ref_for:!0,ref:l.name,"transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(H,{modelValue:k.value[l.name],"onUpdate:modelValue":e=>k.value[l.name]=e,color:"primary",mask:"YYYY-MM-DD",onInput:t=>e.ocultarPopup(t,l.name)},null,8,["modelValue","onUpdate:modelValue","onInput"])])),_:2},1536)])),_:2},1032,["modelValue","onUpdate:modelValue","label"])):(0,o.kq)("",!0)],2)))),128))])])):(0,o.kq)("",!0),(0,o.Wm)(F,{pagination:w.value,"onUpdate:pagination":l[1]||(l[1]=e=>w.value=e),selected:b.value,"onUpdate:selected":l[2]||(l[2]=e=>b.value=e),title:t.title,rows:f.value,grid:t.grid,columns:t.columns,loading:h.value,"rows-per-page-options":[10,25,50],"pagination-label":D,flat:"",class:"full-width q-crud-table","no-data-label":"No existe registros disponibles","no-results-label":"No existe registros","loading-label":"Cargando...","rows-per-page-label":"Filas por pagina",onRequest:S,"row-key":"id","binary-state-sort":"","selected-rows-label":A,selection:t.selection?"multiple":"none"},{top:(0,o.w5)((()=>[b.value.length?((0,o.wg)(),(0,o.iD)("div",g,[(0,o._)("strong",null,"Seleccionado"+(0,n.zw)(b.value.length>1?"s":"")+":",1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(b.value,(e=>((0,o.wg)(),(0,o.j4)(E,{key:e.id,removable:"",onRemove:l=>_(e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(x(e)),1)])),_:2},1032,["onRemove"])))),128))])):(0,o.kq)("",!0)])),body:(0,o.w5)((l=>[(0,o.WI)(e.$slots,"row",{row:l.row,open:I,update:Z,selected:l.selected,setSelected:U})])),item:(0,o.w5)((l=>[(0,o.WI)(e.$slots,"item",{row:l.row,open:I,update:Z,selected:l.selected})])),_:3},8,["pagination","selected","title","rows","grid","columns","loading","selection"])])])}}});var w=t(6778),b=t(9570),h=t(2165),y=t(4554),k=t(5363),q=t(2448),V=t(5735),U=t(4689),C=t(3944),_=t(5836),x=t(6429),$=t(7030),D=t(7518),S=t.n(D);const I=f,W=I;S()(f,"components",{QDialog:w.Z,QToolbar:b.Z,QBtn:h.Z,QIcon:y.Z,QTooltip:k.Z,QSelect:q.Z,QCheckbox:V.Z,QInput:U.Z,QPopupProxy:C.Z,QDate:_.Z,QTable:x.Z,QChip:$.Z})}}]);