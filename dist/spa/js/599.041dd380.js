"use strict";(globalThis["webpackChunksmi_frontend"]=globalThis["webpackChunksmi_frontend"]||[]).push([[599],{599:(n,o,t)=>{t.r(o),t.d(o,{default:()=>k});var e=t(3673),l=t(1959),s=t(8339),i=t(4781),a=t(2993),r=t(9236),c=function(n,o,t,e){function l(n){return n instanceof t?n:new t((function(o){o(n)}))}return new(t||(t=Promise))((function(t,s){function i(n){try{r(e.next(n))}catch(o){s(o)}}function a(n){try{r(e["throw"](n))}catch(o){s(o)}}function r(n){n.done?t(n.value):l(n.value).then(i,a)}r((e=e.apply(n,o||[])).next())}))};const u={class:"container"},d={class:"treasury-title"},v={class:"row q-col-gutter-md"},p={key:0,class:"col-xs-12 col-sm-6 col-md-3 card-button"},b={key:1,class:"col-xs-12 col-sm-6 col-md-3 card-button"},y={key:2,class:"col-xs-12 col-sm-6 col-md-3 card-button"},h=(0,e.aZ)({__name:"Treasury",setup(n){var o,t,h;const f=(0,r.o)(),m=Number(null===(h=null===(t=null===(o=f.state.user)||void 0===o?void 0:o.user)||void 0===t?void 0:t.company)||void 0===h?void 0:h.id),g=(0,s.tv)(),w=(0,l.iH)(),k=(0,l.iH)(),$=()=>{var n,o;const t=null===(n=w.value)||void 0===n?void 0:n.rows.find((n=>"ACTIVE"===n.state)),e=null===(o=k.value)||void 0===o?void 0:o.rows.find((n=>"ACTIVE"===n.state));return t&&e?g.push(`/treasury/entryexpense/${String(t.id)}/${String(e.id)}`):g.push("/treasury/months")},C=(new Date).getUTCFullYear();return(0,e.wF)((()=>c(this,void 0,void 0,(function*(){const n=i.storage.get("initial");if(n)return g.push("/treasury/flows/initial");k.value=yield a.http.get(`expenses/year/${C}/${m}`),w.value=yield a.http.get(`entries/year/${C}/${m}`)})))),(n,o)=>{var t,l,s,i,a,r,c,h;const f=(0,e.up)("q-btn");return(0,e.wg)(),(0,e.iD)("div",u,[(0,e._)("h2",d,[(0,e.Wm)(f,{icon:"arrow_back",round:"",flat:"",onClick:o[0]||(o[0]=o=>n.$router.push("/"))}),(0,e.Uk)(" TesorerÃ­a ")]),(0,e._)("div",v,[(null===(l=null===(t=n.$store.state.user)||void 0===t?void 0:t.permissions)||void 0===l?void 0:l.includes("entry:read"))?((0,e.wg)(),(0,e.iD)("div",p,[(0,e.Wm)(f,{flat:"",color:"secondary",padding:"lg",icon:"attach_money",label:"Ingresos y Gastos","no-caps":"",onClick:$,class:"full-width btn-block",disable:0===(null===(s=w.value)||void 0===s?void 0:s.count)},null,8,["disable"])])):(0,e.kq)("",!0),(null===(a=null===(i=n.$store.state.user)||void 0===i?void 0:i.permissions)||void 0===a?void 0:a.includes("account:read"))?((0,e.wg)(),(0,e.iD)("div",b,[(0,e.Wm)(f,{flat:"",color:"secondary",padding:"lg",icon:"account_balance_wallet",label:"Cuentas bancarias","no-caps":"",onClick:o[1]||(o[1]=o=>n.$router.push("/treasury/accounts")),class:"full-width btn-block"})])):(0,e.kq)("",!0),(null===(c=null===(r=n.$store.state.user)||void 0===r?void 0:r.permissions)||void 0===c?void 0:c.includes("balance:read"))?((0,e.wg)(),(0,e.iD)("div",y,[(0,e.Wm)(f,{flat:"",color:"secondary",padding:"lg",icon:"analytics",label:"Reportes","no-caps":"",onClick:o[2]||(o[2]=o=>n.$router.push("/treasury/reports")),class:"full-width btn-block",disable:0===(null===(h=w.value)||void 0===h?void 0:h.count)},null,8,["disable"])])):(0,e.kq)("",!0)])])}}});var f=t(2165),m=t(7518),g=t.n(m);const w=h,k=w;g()(h,"components",{QBtn:f.Z})}}]);