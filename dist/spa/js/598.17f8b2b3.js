"use strict";(globalThis["webpackChunksmi_frontend"]=globalThis["webpackChunksmi_frontend"]||[]).push([[598],{7598:(e,t,s)=>{s.r(t),s.d(t,{default:()=>U});var n=s(3673),o=s(2323),a=s(1959),l=s(8339),i=s(2993),r=s(925),c=s(9236),u=function(e,t,s,n){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function l(e){try{r(n.next(e))}catch(t){a(t)}}function i(e){try{r(n["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):o(e.value).then(l,i)}r((n=n.apply(e,t||[])).next())}))};const d={class:"container"},p={class:"treasury-title"},v={class:"q-pb-md"},m=(0,n._)("div",{class:"alert alert-info"}," Seleccione el mes que quiere ver/editar ",-1),y={class:"row treasury-row"},w={class:"q-pb-sm"},h={class:"btn-block-detail"},f=(0,n._)("strong",null,"Ingresos:",-1),_={class:"text-primary"},b={class:"btn-block-detail"},k=(0,n._)("strong",null,"Gastos:",-1),g={class:"text-primary"},x=(0,n.aZ)({__name:"Months",setup(e){var t,s;const x=(0,c.o)(),$=(0,l.tv)(),q=(0,a.iH)((new Date).getFullYear()),C=(0,a.iH)(),E=null===(s=null===(t=x.state.user)||void 0===t?void 0:t.user)||void 0===s?void 0:s.company.id,z=(0,r.V4)(),D=()=>u(this,void 0,void 0,(function*(){const e=yield i.http.get(`entries/year/${q.value}/${E}`),t=yield i.http.get(`expenses/year/${q.value}/${E}`);C.value=e.rows.map(((e,s)=>(e.idExpense=t.rows[s].id,e.totalExpense=t.rows[s].total,e)))})),U=()=>{const e=C.value.find((e=>"ACTIVE"===e.state));return $.push(e?`/treasury/entryexpense/${e.id}/${e.idExpense}`:"/treasury")};return(0,n.YP)(q,(()=>u(this,void 0,void 0,(function*(){yield D()})))),(0,n.wF)((()=>u(this,void 0,void 0,(function*(){yield D()})))),(e,t)=>{const s=(0,n.up)("q-btn"),l=(0,n.up)("q-select"),i=(0,n.up)("q-icon");return(0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("h2",p,[(0,n.Wm)(s,{icon:"arrow_back",round:"",flat:"",onClick:U}),(0,n.Uk)(" Ingresos y gastos - Gestión "+(0,o.zw)(q.value),1)]),(0,n._)("div",v,[(0,n.Wm)(l,{filled:"",modelValue:q.value,"onUpdate:modelValue":t[0]||(t[0]=e=>q.value=e),options:(0,a.SU)(z),label:"Gestión"},null,8,["modelValue","options"])]),m,(0,n._)("div",y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(C.value,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"col-xs-6 col-sm-3 q-pa-sm",key:t.month},[(0,n.Wm)(s,{flat:"",color:"secondary",padding:"lg","no-caps":"",onClick:s=>e.$router.push(`/treasury/entryexpense/${t.id}/${t.idExpense}`),class:(0,o.C_)(["full-width btn-block",t.state.toLowerCase()]),disable:"PENDING"===t.state},{default:(0,n.w5)((()=>{var s,l;return[(0,n._)("strong",w,(0,o.zw)((0,a.SU)(r.e7)[t.month-1]),1),(0,n._)("span",h,[f,(0,n.Uk)(),(0,n._)("span",_,(0,o.zw)(Number(t.total).toFixed(2))+" "+(0,o.zw)(null===(s=e.$store.state.user)||void 0===s?void 0:s.user.company.money),1)]),(0,n._)("span",b,[k,(0,n.Uk)(),(0,n._)("span",g,(0,o.zw)(Number(t.totalExpense).toFixed(2))+" "+(0,o.zw)(null===(l=e.$store.state.user)||void 0===l?void 0:l.user.company.money),1)]),(0,n.Wm)(i,{name:"calendar_month"}),"CLOSED"===t.state?((0,n.wg)(),(0,n.j4)(i,{key:0,name:"check_circle",color:"positive",size:"sm",class:"treasury-check"})):(0,n.kq)("",!0)]})),_:2},1032,["onClick","class","disable"])])))),128))])])}}});var $=s(2165),q=s(2448),C=s(4554),E=s(7518),z=s.n(E);const D=x,U=D;z()(x,"components",{QBtn:$.Z,QSelect:q.Z,QIcon:C.Z})}}]);