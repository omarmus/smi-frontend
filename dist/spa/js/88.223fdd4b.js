"use strict";(globalThis["webpackChunksmi_frontend"]=globalThis["webpackChunksmi_frontend"]||[]).push([[88],{7281:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Ge});var t=a(3673),n=a(2323),o=a(1959),i=a(8339),s=a(2993),u=a(185),r=a(925),d=a(9236),c=a(8468),v=a(5751),p=a(5198);const m={class:"text-primary"},y=(0,t._)("br",null,null,-1),w=(0,t._)("br",null,null,-1),f={class:"treasury-observation"},g=(0,t.aZ)({__name:"UserSearch",props:{value:null,done:{type:Function}},emits:["name"],setup(e,{emit:l}){const a=e,i="users?all_association=true",s=[{label:"Nombre completo:",align:"left",name:"person.fullname",sortable:!0},{label:"",align:"right"}],u=(0,o.iH)([{label:"Buscar por nombre completo",name:"fullname",type:"input",value:a.value}]),r=(0,o.iH)(!1),d=e=>{a.done(e.person.fullname,"add-unique"),l("update:name",{value:e.id,label:e.person.fullname})};return(0,t.bv)((()=>{(0,t.Y3)((()=>{r.value=!0}))})),(e,l)=>{const a=(0,t.up)("q-icon"),o=(0,t.up)("q-toolbar-title"),c=(0,t.up)("q-btn"),v=(0,t.up)("q-toolbar"),g=(0,t.up)("q-td"),_=(0,t.up)("q-tr"),b=(0,t.up)("q-card-section"),k=(0,t.up)("q-card"),h=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(k,{class:"card-roles"},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"person_search",size:"md"}),(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Buscar personas ")])),_:1}),(0,t.wy)((0,t.Wm)(c,{flat:"",round:"",dense:"",icon:"close"},null,512),[[h]])])),_:1}),(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[r.value?((0,t.wg)(),(0,t.j4)(p.Z,{key:0,columns:s,filters:u.value,"open-filter":!0,url:i,buttonsHidden:"","cols-filter":"col-xs-12 col-sm-12 col-md-12","label-selection":"person.fullname"},{row:(0,t.w5)((e=>[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>{var l,a,o,i;return[(0,t._)("strong",m,(0,n.zw)(null===(l=e.row.person)||void 0===l?void 0:l.fullname),1),y,(0,t._)("em",null,(0,n.zw)(null===(a=e.row.company)||void 0===a?void 0:a.name),1),w,(0,t._)("strong",f,(0,n.zw)(null===(o=e.row.association)||void 0===o?void 0:o.name)+" - "+(0,n.zw)(null===(i=e.row.association)||void 0===i?void 0:i.country),1)]})),_:2},1024),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(c,{dense:"",size:"md",padding:"3px 10px","no-caps":"",color:"primary",type:"button",onClick:l=>d(e.row),label:"Seleccionar"},null,8,["onClick"]),[[h]])])),_:2},1024)])),_:2},1024)])),_:1},8,["filters"])):(0,t.kq)("",!0)])),_:1})])),_:1})}}});var _=a(151),b=a(9570),k=a(4554),h=a(3747),q=a(2165),C=a(5589),E=a(8186),D=a(3884),x=a(9367),z=a(677),W=a(7518),S=a.n(W);const H=g,U=H;S()(g,"components",{QCard:_.Z,QToolbar:b.Z,QIcon:k.Z,QToolbarTitle:h.Z,QBtn:q.Z,QCardSection:C.Z,QTr:E.Z,QTd:D.Z,QCardActions:x.Z}),S()(g,"directives",{ClosePopup:z.Z});var M=function(e,l,a,t){function n(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,o){function i(e){try{u(t.next(e))}catch(l){o(l)}}function s(e){try{u(t["throw"](e))}catch(l){o(l)}}function u(e){e.done?a(e.value):n(e.value).then(i,s)}u((t=t.apply(e,l||[])).next())}))};const L={key:0,class:"container"},O={class:"treasury-title"},V={class:"row"},B={key:0,class:"col-xs-12 col-sm-5"},Z={class:"col-xs-12"},$={key:0,class:"col-xs-12"},A={class:"text-secondary"},R={class:"col-xs-12"},I={class:"row"},Q={class:"col-xs-6 q-pr-xs",id:"entry-value"},T={class:"col-xs-6"},F={class:"col-xs-12"},Y={key:1,class:"col-xs-12"},N={key:2},j=(0,t._)("h3",{class:"text-warning treasury-subtitle"},"Concepto de donación",-1),K={class:"q-table-simple q-table__container q-table--horizontal-separator column q-table--dense"},P={class:"q-table"},G=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{class:"text-left"}),(0,t._)("th",{class:"text-left"},[(0,t._)("strong",null,"Concepto")]),(0,t._)("th",{class:"text-right"},[(0,t._)("strong",null,"Valor")])])],-1),J={class:"width-80"},X={class:"text-left"},ee={class:"treasury-observation"},le={key:0},ae={class:"text-right"},te=(0,t._)("th",{class:"text-left",colspan:"2"},[(0,t._)("strong",null,"Total")],-1),ne={class:"text-right"},oe={class:"col-xs-12"},ie={key:0,class:"text-secondary treasury-subtitle"},se={key:1,class:"q-table-simple q-table__container q-table--horizontal-separator column q-table--dense q-table--no-wrap"},ue={key:0,class:"text-left"},re=(0,t._)("th",{class:"text-left"},[(0,t._)("strong",null,"Nro. Boleta")],-1),de=(0,t._)("th",{class:"text-left"},[(0,t._)("strong",null,"Nombre")],-1),ce={key:1,class:"text-left"},ve=(0,t._)("strong",null,"Detalle",-1),pe=[ve],me=(0,t._)("th",{class:"text-right"},[(0,t._)("strong",null,"Valor")],-1),ye={key:0,class:"width-120"},we={class:"width-120"},fe={class:"text-left"},ge={key:0},_e={key:1,class:"text-primary"},be={key:2,class:"treasury-observation"},ke={key:0},he={key:1},qe={class:"q-ml-sm q-mt-xs"},Ce={key:0,class:"treasury-list-concepts"},Ee={class:"text-warning"},De={key:0},xe={key:1,class:"text-left"},ze={key:0,class:"treasury-observation"},We={class:"text-texto"},Se={key:1},He={key:2,class:"treasury-list-concepts"},Ue={class:"treasury-observation"},Me={key:0},Le={class:"text-right total"},Oe=(0,t._)("th",{class:"text-left",colspan:"2"},null,-1),Ve=(0,t._)("th",{class:"text-left"},[(0,t._)("strong",null,"TOTAL")],-1),Be={class:"text-right"},Ze={key:2,class:"treasury-empty"},$e={class:"text-right q-pt-xs q-gutter-xs"},Ae=(0,t.aZ)({__name:"Entry",setup(e){var l,a;const p=(0,d.o)(),m={member:"Miembro",sympathizer:"Simpatizante",visit:"Visita"},y=(0,o.iH)(null),w=(0,o.iH)("MEMBER"),f=(0,o.iH)(),g=(0,o.iH)(),_=(0,o.iH)(),b=(0,o.iH)(),k=(0,o.iH)([]),h=(0,o.iH)(),q=(0,o.iH)([]),C=(0,o.iH)(),E=(0,o.iH)([]),D=(0,o.iH)([]),x=(0,o.iH)([]),z=(0,o.iH)([]),W=(0,o.iH)(-1),S=(0,o.iH)([]),H=(0,o.iH)(),ve=(0,o.iH)(),Ae=(0,o.iH)(!0),Re=(0,o.iH)(null),Ie=(0,o.iH)(!1),Qe=(0,o.iH)(""),Te=(0,o.iH)((()=>{})),Fe=(0,o.iH)(),Ye=(0,i.yj)(),{entryId:Ne,week:je}=Ye.params,Ke=null===(a=null===(l=p.state.user)||void 0===l?void 0:l.user)||void 0===a?void 0:a.company.id,Pe=()=>M(this,void 0,void 0,(function*(){H.value=yield s.http.get(`entries/${parseInt(Ne)}`);const e=(0,r.KS)(H.value.year,H.value.month),l=e.find((e=>e.week===parseInt(je)));ve.value=l.day;for(let a=0;a<7;a++){const e=new Date(`${H.value.year}-${H.value.month}-${ve.value} 00:00:00`),l=new Date(e.setDate(e.getDate()-a));k.value.push({value:(0,r.Fv)((0,r.WU)(l.toString())),label:`${r.an[l.getDay()]} ${l.getDate()}`})}b.value=k.value[0]})),Ge=()=>M(this,void 0,void 0,(function*(){const e=yield s.http.get(`entriesdetails?id_entry=${H.value.id}&week=${je}&order=-entry_detail.id`);S.value=e.rows})),Je=()=>M(this,void 0,void 0,(function*(){const e=yield s.http.get("departments?order=id");return e.rows.map((e=>({value:e.id,type:e.type,label:e.name,group:e.group})))})),Xe=(e,l)=>M(this,void 0,void 0,(function*(){let a="users?order=fullname";a+=e?l?`&fullname=${e}&all_association=true`:`&fullname=${e}&all_churchs=true`:`&id_company=${Ke}`;const t=yield s.http.get(a,!1);return t.rows.map((e=>{var a,t;return{value:e.id,label:`${e.person.fullname}`,church:`${e.company.name}`,association:l?null===(a=e.association)||void 0===a?void 0:a.name:null,type:null===(t=e.type)||void 0===t?void 0:t.toLowerCase()}}))})),el=(e,l)=>M(this,void 0,void 0,(function*(){if("SEARCH"!==C.value){if(e.length>3&&C.value){const a=yield s.http.post("users/new",{type:C.value,fullname:e,id_company:Ke});l(e,"add-unique"),f.value={value:a.id,label:a.person.fullname}}}else Ie.value=!1,(0,t.Y3)((()=>{Qe.value=e,Te.value=l,Ie.value=!0}))})),ll=e=>{C.value=e;const l=document.querySelector("#entry-person input");l.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:13}))},al=(e,l)=>{Fe.value=l,l((()=>M(this,void 0,void 0,(function*(){q.value=""===e?E.value:yield Xe(e)}))))},tl=["TITHES","SCOOP","SECOND","TITHE"],nl=(e,l)=>{l((()=>{if(""===e)x.value="MEMBER"===w.value?D.value:D.value.filter((e=>!tl.includes(e.group)));else{const l=e.toLowerCase();x.value=D.value.filter((e=>e.label.toLowerCase().indexOf(l)>-1))}}))},ol=()=>M(this,void 0,void 0,(function*(){if("MEMBER"!==w.value){const e=yield Re.value.validate();if(!e)return!1}const e={id:y.value,concepts:z.value,type:w.value,id_entry:H.value.id,date:b.value.value,week:je};"MEMBER"===w.value?(e.value=vl.value,e.id_user=f.value.value):(e.observations=h.value,e.value=_.value,e.id_department=g.value.value);const l=D.value.find((e=>"YOUNG"===e.group&&"LOCAL"===e.type)).value,a=D.value.find((e=>"YOUNG"===e.group&&"GLOBAL"===e.type)).value;"MEMBER"!==w.value&&!y.value&&[l,a].includes(e.id_department)?((0,u.Confirm)("¿Desea dividir la ofrenda de jóvenes para la Asociación e Iglesia local?",(()=>M(this,void 0,void 0,(function*(){e.value=Number(e.value)/2,e.id_department=l,e.split=!0,yield s.http.post("entriesdetails",e),e.id_department=a,yield s.http.post("entriesdetails",e),yield Ge()}))),(()=>M(this,void 0,void 0,(function*(){e.split=!1,yield s.http.post("entriesdetails",e),yield Ge()}))),"Ofrenda de Jóvenes","Si","No"),yield il()):(y.value?yield s.http.put(`entriesdetails/${y.value}`,e):yield s.http.post("entriesdetails",e),yield Ge(),yield il())})),il=()=>M(this,void 0,void 0,(function*(){Re.value.resetValidation(),Ae.value=!1,yield(0,t.Y3)((()=>{y.value=null,g.value=null,h.value="",_.value="",W.value=-1,z.value=[],f.value=null,Ae.value=!0,b.value=k.value[0]}))})),sl=e=>M(this,void 0,void 0,(function*(){const l=yield s.http.get(`entriesdetails/${e}`);w.value=l.type,y.value=l.id,"MEMBER"===w.value?(f.value={value:l.user.id,label:l.user.person.fullname},l.id_user=f.value.value,z.value=l.concepts):(h.value=l.observation,_.value=l.value,b.value=k.value.find((e=>e.value===(0,r.Fv)((0,r.WU)(l.date)))),g.value={value:l.department.id,label:l.department.name,type:l.department.type},l.id_department=g.value.value)})),ul=e=>{(0,u.Confirm)("¿Desea eliminar el registro?",(()=>M(this,void 0,void 0,(function*(){yield s.http["delete"](`entriesdetails/${e}`),yield Ge()}))),null,"Eliminar","Si","No")},rl=()=>{const e={concept:g.value,observation:h.value,value:_.value};W.value>-1?z.value[W.value]=e:z.value.push(e),g.value=null,h.value="",_.value="",W.value=-1},dl=e=>{const l=z.value[e];g.value=l.concept,h.value=l.observation,_.value=l.value,b.value=k.value[0],W.value=e},cl=e=>{z.value.splice(e,1)},vl=(0,t.Fl)((()=>{let e=0;for(const l of z.value)e+=parseFloat(l.value);return e})),pl=(0,t.Fl)((()=>{let e=0;for(const l of S.value)e+=parseFloat(l.value);return e})),ml=e=>M(this,void 0,void 0,(function*(){(null===e||void 0===e?void 0:e.code)&&(yield s.http.put(`entriesdetails/${e.id}`,{code:e.code}))})),yl=e=>M(this,void 0,void 0,(function*(){const l=e?`entries/pdf/detail/${e}`:`entries/pdf/details/${H.value.id}/${je}`,a=yield s.http.get(l);(0,v.$)(a,`invoice-${Date.now()}.pdf`)}));return(0,t.YP)(g,(e=>{e&&(0,t.Y3)((()=>{document.querySelector("#entry-value input").focus()}))})),(0,t.wF)((()=>M(this,void 0,void 0,(function*(){D.value=yield Je(),x.value=D.value,E.value=yield Xe(),q.value=E.value,yield Pe(),yield Ge()})))),(e,l)=>{const a=(0,t.up)("q-btn"),i=(0,t.up)("q-btn-group"),s=(0,t.up)("q-item-label"),u=(0,t.up)("q-item-section"),d=(0,t.up)("q-item"),v=(0,t.up)("q-select"),p=(0,t.up)("q-input"),C=(0,t.up)("q-form"),E=(0,t.up)("q-icon"),D=(0,t.up)("q-dialog");return H.value?((0,t.wg)(),(0,t.iD)("div",L,[(0,t._)("h2",O,[(0,t.Wm)(a,{icon:"arrow_back",round:"",flat:"",onClick:l[0]||(l[0]=l=>e.$router.push(`/treasury/week/${H.value.id}/${e.$route.params.expenseId}`))}),(0,t.Uk)(" Diezmos y ofrendas - Sábado "+(0,n.zw)(ve.value)+" de "+(0,n.zw)((0,o.SU)(r.e7)[H.value.month-1]),1)]),(0,t._)("div",V,["CLOSED"!==H.value.state?((0,t.wg)(),(0,t.iD)("div",B,[Ae.value?((0,t.wg)(),(0,t.j4)(C,{key:0,class:"q-gutter-md",onSubmit:rl,onReset:il,ref_key:"myForm",ref:Re},{default:(0,t.w5)((()=>[(0,t._)("div",Z,[(0,t.Wm)(i,{spread:"",outline:""},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{outline:"MEMBER"!==w.value,padding:"12px",color:"primary",label:"Persona",onClick:l[1]||(l[1]=e=>w.value="MEMBER"),"no-caps":""},null,8,["outline"]),(0,t.Wm)(a,{outline:"CHURCH"!==w.value,padding:"10px",color:"primary",label:"Congregación",onClick:l[2]||(l[2]=e=>w.value="CHURCH"),"no-caps":""},null,8,["outline"])])),_:1})]),"MEMBER"===w.value?((0,t.wg)(),(0,t.iD)("div",$,[(0,t.Wm)(v,{id:"entry-person",filled:"",modelValue:f.value,"onUpdate:modelValue":l[6]||(l[6]=e=>f.value=e),placeholder:f.value?"":"Escriba un nombre","use-input":"","use-chips":"","input-debounce":300,onNewValue:el,options:q.value,onFilter:al,"lazy-rules":"",rules:[e=>!!e||"Seleccione a una persona"]},{option:(0,t.w5)((e=>[(0,t.Wm)(d,(0,n.vs)((0,t.F4)(e.itemProps)),{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(s,{caption:""},{default:(0,t.w5)((()=>[(0,t._)("strong",A,(0,n.zw)(e.opt.association?e.opt.association:m[e.opt.type])+" - ",1),(0,t.Uk)(" "+(0,n.zw)(e.opt.church),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),"no-option":(0,t.w5)((()=>[(0,t.Wm)(d,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" La persona que busca no está registrada ")])),_:1})])),_:1}),(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(a,{color:"secondary",label:"Agregar como miembro de escuela sabática","no-caps":"",onClick:l[3]||(l[3]=e=>ll("SYMPATHIZER"))})])),_:1})])),_:1}),(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(a,{color:"secondary",label:"Agregar como visita","no-caps":"",onClick:l[4]||(l[4]=e=>ll("VISIT"))})])),_:1})])),_:1}),(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(a,{color:"warning",label:"Buscar en otra Asociación","no-caps":"",onClick:l[5]||(l[5]=e=>ll("SEARCH"))})])),_:1})])),_:1})])),_:1},8,["modelValue","placeholder","options","rules"])])):(0,t.kq)("",!0),(0,t._)("div",R,[(0,t.Wm)(v,{filled:"",label:"Concepto",modelValue:g.value,"onUpdate:modelValue":l[7]||(l[7]=e=>g.value=e),"use-input":"","use-chips":"","input-debounce":"0",options:x.value,onFilter:nl,"lazy-rules":"",rules:[e=>!!e||"Seleccione el concepto"]},{option:(0,t.w5)((e=>[(0,t.Wm)(d,(0,n.vs)((0,t.F4)(e.itemProps)),{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(s,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)("GLOBAL"===e.opt.type?"Asociación":"Iglesia local"),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","rules"])]),(0,t._)("div",I,[(0,t._)("div",Q,[(0,t.Wm)(p,{filled:"",label:"Valor",modelValue:_.value,"onUpdate:modelValue":l[8]||(l[8]=e=>_.value=e),"lazy-rules":"",rules:[(0,o.SU)(c.Z).decimal,(0,o.SU)(c.Z).required]},null,8,["modelValue","rules"])]),(0,t._)("div",T,[(0,t.Wm)(v,{filled:"",label:"Fecha",modelValue:b.value,"onUpdate:modelValue":l[9]||(l[9]=e=>b.value=e),options:k.value,rules:[e=>!!e||"Seleccione el concepto"]},null,8,["modelValue","options","rules"])])]),(0,t._)("div",F,[(0,t.Wm)(p,{filled:"",label:"Observaciones",modelValue:h.value,"onUpdate:modelValue":l[10]||(l[10]=e=>h.value=e)},null,8,["modelValue"])]),"MEMBER"===w.value?((0,t.wg)(),(0,t.iD)("div",Y,[(0,t.Wm)(a,{padding:"10px",label:"Agregar concepto",icon:"add",color:"warning",type:"submit","no-caps":"",class:"full-width"})])):(0,t.kq)("",!0),"MEMBER"===w.value&&z.value.length?((0,t.wg)(),(0,t.iD)("div",N,[j,(0,t._)("div",K,[(0,t._)("table",P,[G,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(z.value,((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[(0,t._)("td",J,[(0,t.Wm)(a,{size:"sm",icon:"edit",onClick:e=>dl(l),round:"",flat:""},null,8,["onClick"]),(0,t.Wm)(a,{size:"sm",icon:"delete",onClick:e=>cl(l),round:"",flat:""},null,8,["onClick"])]),(0,t._)("td",X,[(0,t.Uk)((0,n.zw)(e.concept.label)+" ",1),(0,t._)("div",ee,[(0,t.Uk)((0,n.zw)("GLOBAL"===e.concept.type?"Asociación":"Iglesia local")+" ",1),e.observation?((0,t.wg)(),(0,t.iD)("span",le," / "+(0,n.zw)(e.observation),1)):(0,t.kq)("",!0)])]),(0,t._)("td",ae,(0,n.zw)(e.value),1)])))),128))]),(0,t._)("tfoot",null,[(0,t._)("tr",null,[te,(0,t._)("th",ne,[(0,t._)("strong",null,(0,n.zw)((0,o.SU)(vl)),1)])])])])])])):(0,t.kq)("",!0),(0,t._)("div",oe,[(0,t.Wm)(a,{padding:"10px",label:y.value?"Actualizar recibo":"Guardar recibo",color:"primary","no-caps":"",disable:0===z.value.length&&"MEMBER"===w.value,onClick:ol,icon:"check",class:"full-width"},null,8,["label","disable"]),y.value?((0,t.wg)(),(0,t.j4)(a,{key:0,type:"reset",padding:"10px",label:"Cancelar actualización","no-caps":"",icon:"cancel",class:"full-width q-mt-sm"})):(0,t.kq)("",!0)])])),_:1},512)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,t._)("div",{class:(0,n.C_)(["col-xs-12 tithe-column",{"col-sm-7":"CLOSED"!==H.value.state,"col-sm-12":"CLOSED"===H.value.state}])},["CLOSED"!==H.value.state?((0,t.wg)(),(0,t.iD)("h3",ie,"Diezmos y ofrendas")):(0,t.kq)("",!0),S.value.length?((0,t.wg)(),(0,t.iD)("div",se,[(0,t._)("table",{class:(0,n.C_)(["q-table",{"treasury-table-data":"CLOSED"===H.value.state}])},[(0,t._)("thead",null,[(0,t._)("tr",null,["CLOSED"!==H.value.state?((0,t.wg)(),(0,t.iD)("th",ue)):(0,t.kq)("",!0),re,de,"CLOSED"===H.value.state?((0,t.wg)(),(0,t.iD)("th",ce,pe)):(0,t.kq)("",!0),me])]),(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(S.value,(e=>{var l,i,s,u;return(0,t.wg)(),(0,t.iD)("tr",{key:e.id},["CLOSED"!==H.value.state?((0,t.wg)(),(0,t.iD)("td",ye,[(0,t.Wm)(a,{size:"sm",icon:"edit",round:"",flat:"",onClick:l=>sl(e.id)},null,8,["onClick"]),(0,t.Wm)(a,{size:"sm",icon:"delete",round:"",flat:"",onClick:l=>ul(e.id)},null,8,["onClick"]),"MEMBER"===e.type?((0,t.wg)(),(0,t.j4)(a,{key:0,size:"sm",icon:"print",round:"",flat:"",onClick:l=>yl(e.id)},null,8,["onClick"])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,t._)("td",we,["MEMBER"===e.type?((0,t.wg)(),(0,t.j4)(p,{key:0,modelValue:e.code,"onUpdate:modelValue":l=>e.code=l,dense:"",standout:"",debounce:"500",disable:"CLOSED"===H.value.state,onKeyup:l=>ml(e)},null,8,["modelValue","onUpdate:modelValue","disable","onKeyup"])):(0,t.kq)("",!0)]),(0,t._)("td",fe,["MEMBER"===e.type?((0,t.wg)(),(0,t.iD)("span",ge,(0,n.zw)(null===(i=null===(l=e.user)||void 0===l?void 0:l.person)||void 0===i?void 0:i.fullname),1)):((0,t.wg)(),(0,t.iD)("strong",_e,(0,n.zw)(e.department.name),1)),"CLOSED"!==H.value.state?((0,t.wg)(),(0,t.iD)("span",be,["MEMBER"!==e.type?((0,t.wg)(),(0,t.iD)("strong",ke,(0,n.zw)("LOCAL"===e.department.type?"Iglesia local":"Asociación"),1)):(0,t.kq)("",!0),"MEMBER"!==e.type?((0,t.wg)(),(0,t.iD)("span",he,[(0,t.Uk)(" - "),(0,t.Wm)(E,{name:"today"}),(0,t.Uk)(" "+(0,n.zw)((0,o.SU)(r.WU)(e.date)),1)])):(0,t.kq)("",!0),(0,t.Uk)(" "+(0,n.zw)(e.observations?` / ${e.observations}`:""),1)])):(0,t.kq)("",!0),(0,t._)("div",qe,[(null===(s=e.concepts)||void 0===s?void 0:s.length)&&"CLOSED"!==H.value.state?((0,t.wg)(),(0,t.iD)("ul",Ce,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.concepts,((e,l)=>((0,t.wg)(),(0,t.iD)("li",{key:l},[(0,t._)("strong",Ee,"- "+(0,n.zw)(e.concept.label)+": ",1),(0,t.Uk)((0,n.zw)(e.value)+" / "+(0,n.zw)("LOCAL"===e.concept.type?"Iglesia local":"Asociación")+" ",1),e.observation?((0,t.wg)(),(0,t.iD)("span",De," - "+(0,n.zw)(e.observation),1)):(0,t.kq)("",!0)])))),128))])):(0,t.kq)("",!0)])]),"CLOSED"===H.value.state?((0,t.wg)(),(0,t.iD)("td",xe,[e.department?((0,t.wg)(),(0,t.iD)("span",ze,(0,n.zw)("LOCAL"===e.department.type?"Iglesia local":"Asociación"),1)):(0,t.kq)("",!0),(0,t._)("span",We,(0,n.zw)(e.observations),1),"MEMBER"!==e.type?((0,t.wg)(),(0,t.iD)("div",Se,[(0,t.Wm)(E,{name:"today"}),(0,t.Uk)(" "+(0,n.zw)((0,o.SU)(r.WU)(e.date)),1)])):(0,t.kq)("",!0),(null===(u=e.concepts)||void 0===u?void 0:u.length)?((0,t.wg)(),(0,t.iD)("ul",He,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.concepts,((l,a)=>{var o,i;return(0,t.wg)(),(0,t.iD)("li",{key:a,class:(0,n.C_)({"treasury-line-bottom":(null===(o=e.concepts)||void 0===o?void 0:o.length)>1&&a!==(null===(i=e.concepts)||void 0===i?void 0:i.length)-1})},[(0,t._)("span",Ue,(0,n.zw)("LOCAL"===l.concept.type?"Iglesia local":"Asociación"),1),(0,t._)("strong",null,(0,n.zw)(l.concept.label)+": ",1),(0,t.Uk)((0,n.zw)(l.value)+" ",1),l.observation?((0,t.wg)(),(0,t.iD)("span",Me," - "+(0,n.zw)(l.observation),1)):(0,t.kq)("",!0)],2)})),128))])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,t._)("td",Le,[(0,t._)("span",null,(0,n.zw)(e.value),1)])])})),128))]),(0,t._)("tfoot",null,[(0,t._)("tr",null,[Oe,Ve,(0,t._)("th",Be,[(0,t._)("strong",null,(0,n.zw)((0,o.SU)(pl)),1)])])])],2)])):((0,t.wg)(),(0,t.iD)("div",Ze,"Sin registros")),(0,t._)("div",$e,[(0,t.Wm)(a,{disable:0===S.value.length,label:"Imprimir todos los recibos","no-caps":"",icon:"print",padding:"10px 20px",class:"btn-close-month",onClick:l[11]||(l[11]=e=>yl(null))},null,8,["disable"])])],2)]),(0,t.Wm)(D,{modelValue:Ie.value,"onUpdate:modelValue":l[13]||(l[13]=e=>Ie.value=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[Ie.value?((0,t.wg)(),(0,t.j4)(U,{key:0,value:Qe.value,done:Te.value,name:f.value,"onUpdate:name":l[12]||(l[12]=e=>f.value=e)},null,8,["value","done","name"])):(0,t.kq)("",!0)])),_:1},8,["modelValue"])])):(0,t.kq)("",!0)}}});var Re=a(8689),Ie=a(6375),Qe=a(2448),Te=a(3414),Fe=a(2035),Ye=a(2350),Ne=a(4689),je=a(6429),Ke=a(6778);const Pe=Ae,Ge=Pe;S()(Ae,"components",{QBtn:q.Z,QForm:Re.Z,QBtnGroup:Ie.Z,QSelect:Qe.Z,QItem:Te.Z,QItemSection:Fe.Z,QItemLabel:Ye.Z,QInput:Ne.Z,QTable:je.Z,QIcon:k.Z,QDialog:Ke.Z})}}]);